<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="es" >
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="Instalación de Oracle 19c en Debian 12" />
<meta name="author" content="Pablo Martín Hidalgo" />
<meta property="og:locale" content="es" />
<meta name="description" content="Este post muestra cómo instalar y configurar Oracle 19c en Debian 12, cubriendo los pasos clave desde la instalación hasta la configuración básica. 🚀" />
<meta property="og:description" content="Este post muestra cómo instalar y configurar Oracle 19c en Debian 12, cubriendo los pasos clave desde la instalación hasta la configuración básica. 🚀" />
<link rel="canonical" href="/posts/instalacion-oracle19c/" />
<meta property="og:url" content="/posts/instalacion-oracle19c/" />
<meta property="og:site_name" content="Blog personal" />
<meta property="og:image" content="/assets/img/posts/oracle19c/Oracle19c.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-11-15T18:15:00+01:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="/assets/img/posts/oracle19c/Oracle19c.jpg" />
<meta property="twitter:title" content="Instalación de Oracle 19c en Debian 12" />
<meta name="twitter:site" content="@Tagarnina10" />
<meta name="twitter:creator" content="@Tagarnina10" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Pablo Martín Hidalgo","url":"https://github.com/PabloMartin19/"},"dateModified":"2024-11-19T14:12:23+01:00","datePublished":"2024-11-15T18:15:00+01:00","description":"Este post muestra cómo instalar y configurar Oracle 19c en Debian 12, cubriendo los pasos clave desde la instalación hasta la configuración básica. 🚀","headline":"Instalación de Oracle 19c en Debian 12","image":"/assets/img/posts/oracle19c/Oracle19c.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/instalacion-oracle19c/"},"url":"/posts/instalacion-oracle19c/"}</script>
<!-- End Jekyll SEO tag -->


  <title>Instalación de Oracle 19c en Debian 12 | Blog personal
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Blog personal">
<meta name="application-name" content="Blog personal">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Resource Hints -->
  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
      
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
    
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" >
      
    
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
    
  

  <!-- Bootstrap -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  

  <!-- Theme style -->
  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  <!-- Web Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.6.0/css/all.min.css">

  <!-- 3rd-party Dependencies -->

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.29.0/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Image Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      let self = this;this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          self.clearMode();
        }
        self.notify();
      });

      if (!this.hasMode) {
        return;
      }

      if (this.isDarkMode) {
        this.setDark();
      } else {
        this.setLight();
      }
    }

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isPreferDark() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }get modeStatus() {
      if (this.hasMode) {
        return this.mode;
      } else {
        return this.isPreferDark ? ModeToggle.DARK_MODE : ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        this.clearMode();
      } else {
        if (this.isPreferDark) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    }
  }

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/avatar.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <a class="site-title d-block" href="/">Blog personal</a>
    <p class="site-subtitle fst-italic mb-0">Los mejores programas son aquellos que funcionan.</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/PabloMartin19"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/Tagarnina10"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fa-brands fa-x-twitter"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['pmartinhidalgo19','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="https://www.linkedin.com/in/pablo-mart%C3%ADn-hidalgo/"
          aria-label="linkedin"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-linkedin"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">Home</a>
            </span>

          
        
          
        
          
            
              <span>Instalación de Oracle 19c en Debian 12</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search id="search" class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  

  
  

  

  
  

  




<!-- return -->




<article class="px-1">
  <header>
    <h1 data-toc-skip>Instalación de Oracle 19c en Debian 12</h1>
    
      <p class="post-desc fw-light mb-4">Este post muestra cómo instalar y configurar Oracle 19c en Debian 12, cubriendo los pasos clave desde la instalación hasta la configuración básica. 🚀</p>
    

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1731690900"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Nov 15, 2024
</time>

      </span>

      <!-- lastmod date -->
      
        <span>
          Updated
          <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1732021943"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Nov 19, 2024
</time>

        </span>
      

      
        
        
        

        

        <div class="mt-3 mb-3">
          <a href="/assets/img/posts/oracle19c/Oracle19c.jpg" class="popup img-link preview-img shimmer"><img src="/assets/img/posts/oracle19c/Oracle19c.jpg"  alt="Preview Image" width="1200" height="630"  loading="lazy"></a></div>
      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              
                <a href="https://github.com/PabloMartin19/">Pablo Martín Hidalgo</a>
                
              
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="4306 words"
>
  <em>23 min</em> read</span>

        </div>
      </div>
    </div>
  </header>

  <div class="content">
    <h2 id="introducción"><span class="me-2">Introducción</span><a href="#introducción" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>En este post, voy a detallar el proceso de instalación de Oracle 19c en una máquina virtual con Debian 12, utilizando QEMU/KVM como plataforma de virtualización. Para este tipo de instalación, es fundamental asegurarse de que la máquina virtual tenga recursos suficientes para que Oracle funcione correctamente. En este caso, se recomienda asignar al menos 4096 MB de memoria RAM, 4 núcleos de procesador (cores) y 40 GB de almacenamiento. Estos recursos permitirán que la base de datos funcione de manera estable, incluso en entornos de prueba o desarrollo.</p>

<p>La máquina virtual se configurará con la red “default”, lo que le asignará automáticamente una dirección IP dentro del rango 192.168.122.x/24. Esta configuración de red es ideal para comunicaciones internas entre la máquina virtual y el sistema host, así como para facilitar la instalación y acceso remoto, si es necesario, sin complicaciones adicionales en cuanto a configuraciones de red. A continuación, explicaré detalladamente cómo configurar todo el entorno y proceder con la instalación de Oracle 19c paso a paso.</p>

<h2 id="instalación"><span class="me-2">Instalación</span><a href="#instalación" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>En este caso, se está configurando una red estática en la máquina virtual que va a hospedar Oracle 19c. Esta configuración es importante porque permite tener un control más preciso sobre la dirección IP de la máquina virtual, lo cual es crucial para garantizar que el sistema sea accesible y que la comunicación con otros dispositivos de la red no se vea interrumpida, especialmente cuando se trabaja con bases de datos como Oracle, que requieren un acceso constante y estable.</p>

<p><strong>Configuración de la interfaz de red estática</strong></p>

<p>El archivo <code class="language-plaintext highlighter-rouge">/etc/network/interfaces</code> en Debian es el encargado de definir cómo se gestionan las interfaces de red. En este caso, se está configurando la interfaz de red <code class="language-plaintext highlighter-rouge">enp1s0</code> con una dirección IP estática:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre>pablo@oracle-server:~<span class="nv">$ </span><span class="nb">cat</span> /etc/network/interfaces
<span class="c"># This file describes the network interfaces available on your system</span>
<span class="c"># and how to activate them. For more information, see interfaces(5).</span>

<span class="nb">source</span> /etc/network/interfaces.d/<span class="k">*</span>

<span class="c"># The loopback network interface</span>
auto lo
iface lo inet loopback

<span class="c"># The primary network interface</span>
<span class="c">#allow-hotplug enp1s0</span>
<span class="c">#iface enp1s0 inet dhcp</span>

auto enp1s0
iface enp1s0 inet static
	address 192.168.122.126
	netmask 255.255.255.0
	gateway 192.168.122.1

</pre></td></tr></tbody></table></code></div></div>

<p><strong>Configuración del archivo <code class="language-plaintext highlighter-rouge">/etc/hosts</code></strong></p>

<p>El archivo <code class="language-plaintext highlighter-rouge">/etc/hosts</code> se utiliza para mapear direcciones IP a nombres de host. En este caso, se ha añadido una entrada para la dirección IP estática que se configuró en el paso anterior, asociándola al nombre <code class="language-plaintext highlighter-rouge">oracle-server</code>:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre>pablo@oracle-server:~<span class="nv">$ </span><span class="nb">cat</span> /etc/hosts
127.0.0.1	localhost
127.0.1.1	oracle-server

<span class="c"># The following lines are desirable for IPv6 capable hosts</span>
::1     localhost ip6-localhost ip6-loopback
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
192.168.122.126	oracle-server

</pre></td></tr></tbody></table></code></div></div>
<p>La combinación de una red estática con la entrada en <code class="language-plaintext highlighter-rouge">/etc/hosts</code> garantiza que la máquina virtual siempre tendrá la misma dirección IP en la red y que será posible referenciarla mediante un nombre fácil de recordar, como <code class="language-plaintext highlighter-rouge">oracle-server</code>, tanto en la máquina virtual como en otros dispositivos o aplicaciones que necesiten comunicarse con ella.</p>

<p>Cuando realizas una instalación de Oracle 19c en Debian 12, uno de los primeros pasos que debes hacer es asegurarte de que el sistema esté completamente actualizado y tenga todas las dependencias necesarias para que Oracle funcione sin problemas. Para ello, realizarás dos comandos importantes que explico a continuación:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre>pablo@oracle-server:~<span class="nv">$ </span><span class="nb">sudo </span>apt update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt upgrade <span class="nt">-y</span>
Obj:1 http://deb.debian.org/debian bookworm InRelease
Obj:2 http://security.debian.org/debian-security bookworm-security InRelease
Obj:3 http://deb.debian.org/debian bookworm-updates InRelease
Leyendo lista de paquetes... Hecho
Creando árbol de dependencias... Hecho
Leyendo la información de estado... Hecho
Todos los paquetes están actualizados.
Leyendo lista de paquetes... Hecho
Creando árbol de dependencias... Hecho
Leyendo la información de estado... Hecho
Calculando la actualización... Hecho
0 actualizados, 0 nuevos se instalarán, 0 para eliminar y 0 no actualizados.
</pre></td></tr></tbody></table></code></div></div>

<p>E instalamos las dependencias necesarias:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>pablo@oracle-server:~<span class="nv">$ </span><span class="nb">sudo </span>apt <span class="nb">install </span>libaio1 unixodbc bc ksh gawk <span class="nt">-y</span>
</pre></td></tr></tbody></table></code></div></div>

<p>Este comando instala una serie de paquetes necesarios para el funcionamiento de Oracle 19c. Cada uno de estos paquetes cumple una función específica dentro del entorno de Oracle y en la configuración del sistema:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">libaio1</code>: Este paquete instala las bibliotecas de entrada/salida asíncrona (AIO) necesarias para Oracle. Oracle utiliza AIO para realizar operaciones de lectura y escritura sin bloquear el proceso, lo que mejora el rendimiento de la base de datos. Este es un requisito fundamental para que Oracle funcione correctamente en el sistema.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">unixodbc</code>: Este paquete proporciona las bibliotecas y herramientas necesarias para gestionar la conectividad con bases de datos mediante ODBC (Open Database Connectivity). Aunque Oracle no siempre utiliza ODBC para la conectividad por defecto, algunas herramientas o configuraciones de Oracle pueden requerir este paquete para establecer conexiones a otras bases de datos o para ciertos procesos internos.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">bc</code>: Este paquete instala una calculadora de precisión arbitraria, que es útil en muchos scripts y procesos de Oracle. Se usa, por ejemplo, para realizar cálculos matemáticos en la configuración o en la ejecución de scripts de mantenimiento y automatización de la base de datos.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">ksh</code>: Este es el KornShell, un intérprete de comandos compatible con muchos de los scripts utilizados por Oracle. Aunque Oracle puede funcionar con otros shells, como bash, ciertos scripts y herramientas de Oracle requieren específicamente el KornShell para funcionar correctamente.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">gawk</code>: Este paquete instala la versión GNU de AWK, que es un potente lenguaje de programación utilizado para procesamiento de texto y manipulación de datos. Oracle utiliza AWK en muchos de sus scripts de configuración y mantenimiento, por lo que es necesario tenerlo instalado para que los scripts internos de Oracle se ejecuten correctamente.</p>
  </li>
</ul>

<p>Oracle utiliza un enfoque de administración basado en roles, por lo que es importante crear un grupo y un usuario específico para garantizar que el sistema esté organizado y que las tareas administrativas puedan realizarse de manera controlada. Para ello:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre>pablo@oracle-server:~<span class="nv">$ </span><span class="nb">sudo </span>groupadd dba
pablo@oracle-server:~<span class="nv">$ </span><span class="nb">sudo </span>adduser <span class="nt">--ingroup</span> dba <span class="nt">--home</span> /home/oracle <span class="nt">--shell</span> /bin/bash oracle
Añadiendo el usuario <span class="sb">`</span>oracle<span class="s1">' ...
Adding new user `oracle'</span> <span class="o">(</span>1001<span class="o">)</span> with group <span class="sb">`</span>dba <span class="o">(</span>1001<span class="o">)</span><span class="s1">' ...
Creando el directorio personal `/home/oracle'</span> ...
Copiando los ficheros desde <span class="sb">`</span>/etc/skel<span class="s1">' ...
Nueva contraseña: 
Vuelva a escribir la nueva contraseña: 
passwd: contraseña actualizada correctamente
Cambiando la información de usuario para oracle
Introduzca el nuevo valor, o pulse INTRO para usar el valor predeterminado
	Nombre completo []: 
	Número de habitación []: 
	Teléfono del trabajo []: 
	Teléfono de casa []: 
	Otro []: 
¿Es correcta la información? [S/n] 
Adding new user `oracle'</span> to supplemental / extra <span class="nb">groups</span> <span class="sb">`</span><span class="nb">users</span><span class="s1">' ...
Añadiendo al usuario `oracle'</span> al grupo <span class="sb">`</span><span class="nb">users</span><span class="s1">' ...
</span></pre></td></tr></tbody></table></code></div></div>

<p>En este paso del proceso de instalación de Oracle 19c, es importante mencionar que, aunque Oracle ofrece soporte para varias distribuciones de Linux, no proporciona soporte oficial para Debian. Esto significa que no existe un paquete <code class="language-plaintext highlighter-rouge">.deb</code> directamente disponible para instalar Oracle en Debian. Sin embargo, existen formas de sortear este inconveniente.</p>

<p><strong>Obtención del fichero de instalación</strong></p>

<p>El primer paso es descargar el archivo de instalación desde la página oficial de <a href="https://www.oracle.com/es/database/technologies/oracle19c-linux-downloads.html">Oracle</a>. Para ello, tendrás que acceder a la sección de descargas de Oracle en su sitio web, donde podrás encontrar el instalador correspondiente para Oracle 19c. Generalmente, Oracle proporciona el instalador en formato <code class="language-plaintext highlighter-rouge">.rpm</code> para sistemas basados en Red Hat, como CentOS o RHEL, pero no ofrece un paquete <code class="language-plaintext highlighter-rouge">.deb</code> directamente para Debian. Esto se debe a que Debian y sus derivados (como Ubuntu) utilizan un sistema de gestión de paquetes diferente, basado en el formato <code class="language-plaintext highlighter-rouge">.deb</code>.</p>

<p><strong>Conversión del paquete <code class="language-plaintext highlighter-rouge">.rpm</code> a <code class="language-plaintext highlighter-rouge">.deb</code> usando <code class="language-plaintext highlighter-rouge">alien</code></strong></p>

<p>Dado que Oracle no ofrece un paquete nativo de Debian, una de las opciones es utilizar una herramienta llamada <strong><code class="language-plaintext highlighter-rouge">alien</code></strong> para convertir el paquete <code class="language-plaintext highlighter-rouge">.rpm</code> (Red Hat Package Manager) a un formato <code class="language-plaintext highlighter-rouge">.deb</code> compatible con Debian.</p>

<p><strong><code class="language-plaintext highlighter-rouge">alien</code></strong> es una herramienta que permite convertir entre diferentes formatos de paquetes de Linux, incluyendo <code class="language-plaintext highlighter-rouge">.rpm</code> a <code class="language-plaintext highlighter-rouge">.deb</code>. Aunque la conversión no es perfecta en todos los casos, generalmente funciona bien para muchos paquetes.</p>

<p>Para realizar la conversión, primero necesitas instalar <code class="language-plaintext highlighter-rouge">alien</code> en tu sistema Debian:</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>sudo apt install alien
</pre></td></tr></tbody></table></code></div></div>

<p>Una vez instalado <code class="language-plaintext highlighter-rouge">alien</code>, puedes convertir el archivo <code class="language-plaintext highlighter-rouge">.rpm</code> a <code class="language-plaintext highlighter-rouge">.deb</code> con el siguiente comando:</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>sudo alien -d oracle-database-ee-19c-1.0-1.x86_64.rpm
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>El parámetro <code class="language-plaintext highlighter-rouge">-d</code> le indica a <code class="language-plaintext highlighter-rouge">alien</code> que cree un paquete <code class="language-plaintext highlighter-rouge">.deb</code>. Este proceso generará un archivo <code class="language-plaintext highlighter-rouge">.deb</code> que podrás instalar de manera estándar en tu sistema Debian utilizando <code class="language-plaintext highlighter-rouge">dpkg</code>.</li>
</ul>

<p><strong>Proceso ya realizado</strong></p>

<p>Como ya he realizado esta conversión previamente, para aligerar el proceso, he subido el paquete <code class="language-plaintext highlighter-rouge">.deb</code> a un servicio de almacenamiento en la nube, como <strong>Mega</strong>, para que puedas descargarlo directamente sin necesidad de hacer la conversión tú mismo.</p>

<p>Dejaré el <strong>link de descarga</strong> de este paquete <code class="language-plaintext highlighter-rouge">.deb</code> para que puedas instalar Oracle 19c sin complicaciones adicionales. Solo tendrás que descargar el archivo:</p>

<p><a href="https://mega.nz/folder/EgQzyQDR#HumPGeghjeLgikfy2TLD3A">Mega</a></p>

<p>Una vez que hayas descargado el archivo .deb de Oracle 19c, el siguiente paso es transferir este fichero a la máquina virtual donde realizarás la instalación. Para ello, utilizaremos el comando scp (Secure Copy), que es una herramienta segura para transferir archivos entre sistemas a través de SSH.</p>

<p>El comando que he utilizado es el siguiente:</p>
<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span>scp /home/pavlo/iso/oracle-database-ee-19c_1.0-2_amd64.deb pablo@192.168.122.126:/home/pablo
pablo@192.168.122.126<span class="s1">'s password: 
oracle-database-ee-19c_1.0-2_amd64.deb                                                                                                     100% 2409MB 101.4MB/s   00:23
</span></pre></td></tr></tbody></table></code></div></div>

<p>Y como podemos ver ya lo tenemos en nuestra máquina virtual:</p>
<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>pablo@oracle-server:~<span class="nv">$ </span><span class="nb">ls
</span>oracle-database-ee-19c_1.0-2_amd64.deb
</pre></td></tr></tbody></table></code></div></div>

<p>Una vez que hemos transferido el archivo <code class="language-plaintext highlighter-rouge">.deb</code> de Oracle Database 19c a nuestra máquina virtual, es hora de proceder con la instalación. Para ello, usaremos el comando <code class="language-plaintext highlighter-rouge">dpkg</code>, que es el gestor de paquetes estándar en Debian. Aquí te dejo cómo hacerlo.</p>
<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre>pablo@oracle-server:~<span class="nv">$ </span><span class="nb">sudo </span>dpkg <span class="nt">-i</span> oracle-database-ee-19c_1.0-2_amd64.deb 
<span class="o">[</span><span class="nb">sudo</span><span class="o">]</span> contraseña para pablo: 
Seleccionando el paquete oracle-database-ee-19c previamente no seleccionado.
<span class="o">(</span>Leyendo la base de datos ... 34459 ficheros o directorios instalados actualmente.<span class="o">)</span>
Preparando para desempaquetar oracle-database-ee-19c_1.0-2_amd64.deb ...
<span class="nb">ln</span>: fallo al crear el enlace simbólico <span class="s1">'/bin/awk'</span>: El fichero ya existe
Desempaquetando oracle-database-ee-19c <span class="o">(</span>1.0-2<span class="o">)</span> ...
Configurando oracle-database-ee-19c <span class="o">(</span>1.0-2<span class="o">)</span> ...
<span class="o">[</span>INFO] Executing post installation scripts...
<span class="o">[</span>INFO] Oracle home installed successfully and ready to be configured.
To configure a sample Oracle Database you can execute the following service configuration script as root: /etc/init.d/oracledb_ORCLCDB-19c configure
Procesando disparadores para libc-bin <span class="o">(</span>2.36-9+deb12u9<span class="o">)</span> ...
</pre></td></tr></tbody></table></code></div></div>

<p>Una vez hecho esto, ya es hora de comenzar la instalación, pero antes recomiendo borrar el contenido del fichero <code class="language-plaintext highlighter-rouge">/etc/init.d/oracledb_ORCLCDB-19c</code> y añadir el siguiente contenido modificado:</p>

<div class="language-sh highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
</pre></td><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>
<span class="c">#</span>
<span class="c"># chkconfig: 2345 80 05</span>
<span class="c"># Description: This script is responsible for taking care of configuring the Oracle Database and its associated services.</span>
<span class="c">#</span>
<span class="c"># processname: oracledb_ORCLCDB-19c</span>
<span class="c"># Red Hat or SuSE config: /etc/sysconfig/oracledb_ORCLCDB-19c</span>
<span class="c">#</span>

<span class="c"># Set path if path not set</span>
<span class="k">case</span> <span class="nv">$PATH</span> <span class="k">in</span>
    <span class="s2">""</span><span class="p">)</span> <span class="nv">PATH</span><span class="o">=</span>/bin:/usr/bin:/sbin:/etc
         <span class="nb">export </span>PATH <span class="p">;;</span>
<span class="k">esac</span>

<span class="c"># Check if the root user is running this script</span>
<span class="k">if</span> <span class="o">[</span> <span class="si">$(</span><span class="nb">id</span> <span class="nt">-u</span><span class="si">)</span> <span class="o">!=</span> <span class="s2">"0"</span> <span class="o">]</span>
<span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"You must be root user to run the configurations script. Login as root user and try again."</span>
    <span class="nb">exit </span>1
<span class="k">fi</span>

<span class="c"># Setting the required environment variables</span>
<span class="nb">export </span><span class="nv">ORACLE_HOME</span><span class="o">=</span>/opt/oracle/product/19c/dbhome_1
<span class="nb">export </span><span class="nv">ORACLE_VERSION</span><span class="o">=</span>19c 
<span class="nb">export </span><span class="nv">ORACLE_SID</span><span class="o">=</span>ORCLCDB
<span class="nb">export </span><span class="nv">TEMPLATE_NAME</span><span class="o">=</span>General_Purpose.dbc
<span class="nb">export </span><span class="nv">CHARSET</span><span class="o">=</span>AL32UTF8
<span class="nb">export </span><span class="nv">PDB_NAME</span><span class="o">=</span>ORCLPDB1
<span class="nb">export </span><span class="nv">LISTENER_NAME</span><span class="o">=</span>LISTENER
<span class="nb">export </span><span class="nv">NUMBER_OF_PDBS</span><span class="o">=</span>1
<span class="nb">export </span><span class="nv">CREATE_AS_CDB</span><span class="o">=</span><span class="nb">true</span>

<span class="c"># General exports and vars</span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$ORACLE_HOME</span>/bin:<span class="nv">$PATH</span>
<span class="nv">LSNR</span><span class="o">=</span><span class="nv">$ORACLE_HOME</span>/bin/lsnrctl
<span class="nv">SQLPLUS</span><span class="o">=</span><span class="nv">$ORACLE_HOME</span>/bin/sqlplus
<span class="nv">DBCA</span><span class="o">=</span><span class="nv">$ORACLE_HOME</span>/bin/dbca
<span class="nv">NETCA</span><span class="o">=</span><span class="nv">$ORACLE_HOME</span>/bin/netca
<span class="nv">ORACLE_OWNER</span><span class="o">=</span>oracle
<span class="nv">RETVAL</span><span class="o">=</span>0
<span class="nv">CONFIG_NAME</span><span class="o">=</span><span class="s2">"oracledb_</span><span class="nv">$ORACLE_SID</span><span class="s2">-</span><span class="nv">$ORACLE_VERSION</span><span class="s2">.conf"</span>
<span class="nv">CONFIGURATION</span><span class="o">=</span><span class="s2">"/etc/sysconfig/</span><span class="nv">$CONFIG_NAME</span><span class="s2">"</span>

<span class="c"># Commands</span>
<span class="k">if</span> <span class="o">[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$SU</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span><span class="k">then </span><span class="nv">SU</span><span class="o">=</span>/bin/su<span class="p">;</span> <span class="k">fi
if</span> <span class="o">[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$GREP</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then </span><span class="nv">GREP</span><span class="o">=</span>/usr/bin/grep<span class="p">;</span> <span class="k">fi
if</span> <span class="o">[</span> <span class="o">!</span> <span class="nt">-f</span> <span class="s2">"</span><span class="nv">$GREP</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then </span><span class="nv">GREP</span><span class="o">=</span>/bin/grep<span class="p">;</span> <span class="k">fi</span>

<span class="c"># To start the DB</span>
start<span class="o">()</span>
<span class="o">{</span>
    check_for_configuration
    <span class="nv">RETVAL</span><span class="o">=</span><span class="nv">$?</span>
    <span class="k">if</span> <span class="o">[</span> <span class="nv">$RETVAL</span> <span class="nt">-eq</span> 1 <span class="o">]</span>
    <span class="k">then
        </span><span class="nb">echo</span> <span class="s2">"The Oracle Database is not configured. You must run '/etc/init.d/oracledb_</span><span class="nv">$ORACLE_SID</span><span class="s2">-</span><span class="nv">$ORACLE_VERSION</span><span class="s2"> configure' as the root user to configure the database."</span>
        <span class="nb">exit
    </span><span class="k">fi</span>
    <span class="c"># Check if the DB is already started</span>
    <span class="nv">pmon</span><span class="o">=</span>ps <span class="nt">-ef</span> | egrep pmon_<span class="nv">$ORACLE_SID</span><span class="s1">'\&gt;'</span> | <span class="nv">$GREP</span> <span class="nt">-v</span> <span class="nb">grep
    </span><span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$pmon</span><span class="s2">"</span> <span class="o">=</span> <span class="s2">""</span> <span class="o">]</span><span class="p">;</span>
    <span class="k">then</span>

        <span class="c"># Unset the proxy env vars before calling sqlplus</span>
        unset_proxy_vars

        <span class="nb">echo</span> <span class="s2">"Starting Oracle Net Listener."</span>
        <span class="nv">$SU</span> <span class="nt">-s</span> /bin/bash <span class="nv">$ORACLE_OWNER</span> <span class="nt">-c</span> <span class="s2">"</span><span class="nv">$LSNR</span><span class="s2">  start </span><span class="nv">$LISTENER_NAME</span><span class="s2">"</span> <span class="o">&gt;</span> /dev/null 2&gt;&amp;1
        <span class="nv">RETVAL</span><span class="o">=</span><span class="nv">$?</span>
        <span class="k">if</span> <span class="o">[</span> <span class="nv">$RETVAL</span> <span class="nt">-eq</span> 0 <span class="o">]</span>
        <span class="k">then
            </span><span class="nb">echo</span> <span class="s2">"Oracle Net Listener started."</span>
        <span class="k">fi

        </span><span class="nb">echo</span> <span class="s2">"Starting Oracle Database instance </span><span class="nv">$ORACLE_SID</span><span class="s2">."</span>
        <span class="nv">$SU</span> <span class="nt">-s</span> /bin/bash  <span class="nv">$ORACLE_OWNER</span> <span class="nt">-c</span> <span class="s2">"</span><span class="nv">$SQLPLUS</span><span class="s2"> -s /nolog &lt;&lt; EOF
                                                                connect / as sysdba
                                                                startup
                                                                alter pluggable database all open
                                                                exit;
                                                                EOF"</span> <span class="o">&gt;</span> /dev/null 2&gt;&amp;1
        <span class="nv">RETVAL1</span><span class="o">=</span><span class="nv">$?</span>
        <span class="k">if</span> <span class="o">[</span> <span class="nv">$RETVAL1</span> <span class="nt">-eq</span> 0 <span class="o">]</span>
        <span class="k">then
            </span><span class="nb">echo</span> <span class="s2">"Oracle Database instance </span><span class="nv">$ORACLE_SID</span><span class="s2"> started."</span>
        <span class="k">fi
    else
        </span><span class="nb">echo</span> <span class="s2">"The Oracle Database instance </span><span class="nv">$ORACLE_SID</span><span class="s2"> is already started."</span>
        <span class="nb">exit </span>0
    <span class="k">fi

    </span><span class="nb">echo
    </span><span class="k">if</span> <span class="o">[</span> <span class="nv">$RETVAL</span> <span class="nt">-eq</span> 0 <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="o">[</span> <span class="nv">$RETVAL1</span> <span class="nt">-eq</span> 0 <span class="o">]</span>
    <span class="k">then
        return </span>0
     <span class="k">else
        </span><span class="nb">echo</span> <span class="s2">"Failed to start Oracle Net Listener using </span><span class="nv">$ORACLE_HOME</span><span class="s2">/bin/tnslsnr and Oracle Database using </span><span class="nv">$ORACLE_HOME</span><span class="s2">/bin/sqlplus."</span>
        <span class="nb">exit </span>1
    <span class="k">fi</span>
<span class="o">}</span>

<span class="c"># To stop the DB</span>
stop<span class="o">()</span>
<span class="o">{</span>
    check_for_configuration
    <span class="nv">RETVAL</span><span class="o">=</span><span class="nv">$?</span>
    <span class="k">if</span> <span class="o">[</span> <span class="nv">$RETVAL</span> <span class="nt">-eq</span> 1 <span class="o">]</span>
    <span class="k">then
        </span><span class="nb">echo</span> <span class="s2">"The Oracle Database is not configured. You must run '/etc/init.d/oracledb_</span><span class="nv">$ORACLE_SID</span><span class="s2">-</span><span class="nv">$ORACLE_VERSION</span><span class="s2"> configure' as the root user to configure the database."</span>
        <span class="nb">exit </span>1
    <span class="k">fi</span>
    <span class="c"># Check if the DB is already stopped</span>
    <span class="nv">pmon</span><span class="o">=</span>ps <span class="nt">-ef</span> | egrep pmon_<span class="nv">$ORACLE_SID</span><span class="s1">'\&gt;'</span> | <span class="nv">$GREP</span> <span class="nt">-v</span> <span class="nb">grep
    </span><span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$pmon</span><span class="s2">"</span> <span class="o">=</span> <span class="s2">""</span> <span class="o">]</span>
    <span class="k">then
        </span><span class="nb">echo</span> <span class="s2">"Oracle Database instance </span><span class="nv">$ORACLE_SID</span><span class="s2"> is already stopped."</span>
        <span class="nb">exit </span>1
    <span class="k">else</span>

        <span class="c"># Unset the proxy env vars before calling sqlplus</span>
        unset_proxy_vars

        <span class="nb">echo</span> <span class="s2">"Shutting down Oracle Database instance </span><span class="nv">$ORACLE_SID</span><span class="s2">."</span>
        <span class="nv">$SU</span> <span class="nt">-s</span> /bin/bash <span class="nv">$ORACLE_OWNER</span> <span class="nt">-c</span> <span class="s2">"</span><span class="nv">$SQLPLUS</span><span class="s2"> -s /nolog &lt;&lt; EOF
                                                                connect / as sysdba
                                                                shutdown immediate
                                                                exit;
                                                                EOF"</span> <span class="o">&gt;</span> /dev/null 2&gt;&amp;1
        <span class="nv">RETVAL</span><span class="o">=</span><span class="nv">$?</span>
        <span class="k">if</span> <span class="o">[</span> <span class="nv">$RETVAL</span> <span class="nt">-eq</span> 0 <span class="o">]</span>
        <span class="k">then
            </span><span class="nb">echo</span> <span class="s2">"Oracle Database instance </span><span class="nv">$ORACLE_SID</span><span class="s2"> shut down."</span>
        <span class="k">fi

        </span><span class="nb">echo</span> <span class="s2">"Stopping Oracle Net Listener."</span>
        <span class="nv">$SU</span> <span class="nt">-s</span> /bin/bash  <span class="nv">$ORACLE_OWNER</span> <span class="nt">-c</span> <span class="s2">"</span><span class="nv">$LSNR</span><span class="s2"> stop </span><span class="nv">$LISTENER_NAME</span><span class="s2">"</span> <span class="o">&gt;</span> /dev/null 2&gt;&amp;1
        <span class="nv">RETVAL1</span><span class="o">=</span><span class="nv">$?</span>
        <span class="k">if</span> <span class="o">[</span> <span class="nv">$RETVAL1</span> <span class="nt">-eq</span> 0 <span class="o">]</span>
        <span class="k">then
            </span><span class="nb">echo</span> <span class="s2">"Oracle Net Listener stopped."</span>
        <span class="k">fi
    fi

    </span><span class="nb">echo
    </span><span class="k">if</span> <span class="o">[</span> <span class="nv">$RETVAL</span> <span class="nt">-eq</span> 0 <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="o">[</span> <span class="nv">$RETVAL1</span> <span class="nt">-eq</span> 0 <span class="o">]</span>
    <span class="k">then
        return </span>0
    <span class="k">else
        </span><span class="nb">echo</span> <span class="s2">"Failed to stop Oracle Net Listener using </span><span class="nv">$ORACLE_HOME</span><span class="s2">/bin/tnslsnr and Oracle Database using </span><span class="nv">$ORACLE_HOME</span><span class="s2">/bin/sqlplus."</span>
        <span class="nb">exit </span>1
    <span class="k">fi</span>
<span class="o">}</span>

<span class="c"># To call DBCA to configure the DB</span>
configure_perform<span class="o">()</span>
<span class="o">{</span>
    <span class="c"># Unset the proxy env vars before calling dbca</span>
    unset_proxy_vars

    <span class="nb">echo</span> <span class="s2">"Configuring Oracle Database </span><span class="nv">$ORACLE_SID</span><span class="s2">."</span>

    <span class="c"># Add the -J-Doracle.assistants.dbca.validate.ConfigurationParams=false to bypass the memory validation error</span>
    <span class="nv">$SU</span> <span class="nt">-s</span> /bin/bash  <span class="nv">$ORACLE_OWNER</span> <span class="nt">-c</span> <span class="s2">"</span><span class="nv">$DBCA</span><span class="s2"> -silent -createDatabase -gdbName </span><span class="nv">$ORACLE_SID</span><span class="s2"> -templateName </span><span class="nv">$TEMPLATE_NAME</span><span class="s2"> -characterSet </span><span class="nv">$CHARSET</span><span class="s2"> -createAsContainerDatabase </span><span class="nv">$CREATE_AS_CDB</span><span class="s2"> -numberOfPDBs </span><span class="nv">$NUMBER_OF_PDBS</span><span class="s2"> -pdbName </span><span class="nv">$PDB_NAME</span><span class="s2"> -createListener </span><span class="nv">$LISTENER_NAME</span><span class="s2">:</span><span class="nv">$LISTENER_PORT</span><span class="s2"> -datafileDestination </span><span class="nv">$ORACLE_DATA_LOCATION</span><span class="s2"> -sid </span><span class="nv">$ORACLE_SID</span><span class="s2"> -autoGeneratePasswords -emConfiguration DBEXPRESS -emExpressPort </span><span class="nv">$EM_EXPRESS_PORT</span><span class="s2"> -J-Doracle.assistants.dbca.validate.ConfigurationParams=false"</span>

    <span class="nv">RETVAL</span><span class="o">=</span><span class="nv">$?</span>

    <span class="nb">echo
    </span><span class="k">if</span> <span class="o">[</span> <span class="nv">$RETVAL</span> <span class="nt">-eq</span> 0 <span class="o">]</span>
    <span class="k">then
        </span><span class="nb">echo</span> <span class="s2">"Database configuration completed successfully. The passwords were auto generated, you must change them by connecting to the database using 'sqlplus / as sysdba' as the oracle user."</span>
        <span class="k">return </span>0
    <span class="k">else
        </span><span class="nb">echo</span> <span class="s2">"Database configuration failed."</span>
        <span class="nb">exit </span>1
    <span class="k">fi</span>
<span class="o">}</span>

<span class="c"># Enh 27965939 - Unsets the proxy env variables</span>
unset_proxy_vars<span class="o">()</span>
<span class="o">{</span>
    <span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$http_proxy</span><span class="s2">"</span> <span class="o">!=</span> <span class="s2">""</span> <span class="o">]</span>
    <span class="k">then
        </span><span class="nb">unset </span>http_proxy
    <span class="k">fi

    if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$HTTP_PROXY</span><span class="s2">"</span> <span class="o">!=</span> <span class="s2">""</span> <span class="o">]</span>
    <span class="k">then
        </span><span class="nb">unset </span>HTTP_PROXY
    <span class="k">fi

    if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$https_proxy</span><span class="s2">"</span> <span class="o">!=</span> <span class="s2">""</span> <span class="o">]</span>
    <span class="k">then
        </span><span class="nb">unset </span>https_proxy
    <span class="k">fi

    if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$HTTPS_PROXY</span><span class="s2">"</span> <span class="o">!=</span> <span class="s2">""</span> <span class="o">]</span>
    <span class="k">then
        </span><span class="nb">unset </span>HTTPS_PROXY
    <span class="k">fi</span>
<span class="o">}</span>

<span class="c"># Check if the DB is already configured</span>
check_for_configuration<span class="o">()</span>
<span class="o">{</span>
    <span class="nv">configfile</span><span class="o">=</span><span class="nv">$GREP</span> <span class="nt">--no-messages</span> <span class="nv">$ORACLE_SID</span>:<span class="nv">$ORACLE_HOME</span> /etc/oratab <span class="o">&gt;</span> /dev/null 2&gt;&amp;1
    <span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$configfile</span><span class="s2">"</span> <span class="o">=</span> <span class="s2">""</span> <span class="o">]</span>
    <span class="k">then
        return </span>1
    <span class="k">fi
    return </span>0
<span class="o">}</span>

read_config_file<span class="o">()</span>
<span class="o">{</span>
    <span class="k">if</span> <span class="o">[</span> <span class="nt">-f</span> <span class="s2">"</span><span class="nv">$CONFIGURATION</span><span class="s2">"</span> <span class="o">]</span>
    <span class="k">then</span>
        <span class="nb">.</span> <span class="s2">"</span><span class="nv">$CONFIGURATION</span><span class="s2">"</span>
    <span class="k">else
        </span><span class="nb">echo</span> <span class="s2">"The Oracle Database is not configured. Unable to read the configuration file '</span><span class="nv">$CONFIGURATION</span><span class="s2">'"</span>
        <span class="nb">exit </span>1<span class="p">;</span>
    <span class="k">fi</span>
<span class="o">}</span>

<span class="c"># Entry point to configure the DB</span>
configure<span class="o">()</span>
<span class="o">{</span>
    check_for_configuration
    <span class="nv">RETVAL</span><span class="o">=</span><span class="nv">$?</span>
    <span class="k">if</span> <span class="o">[</span> <span class="nv">$RETVAL</span> <span class="nt">-eq</span> 0 <span class="o">]</span>
    <span class="k">then
        </span><span class="nb">echo</span> <span class="s2">"Oracle Database instance </span><span class="nv">$ORACLE_SID</span><span class="s2"> is already configured."</span>
        <span class="nb">exit </span>1
    <span class="k">fi
    </span>read_config_file
    check_port_availability
    check_em_express_port_availability
    configure_perform
<span class="o">}</span>

check_port_availability<span class="o">()</span>
<span class="o">{</span>
    <span class="nv">port</span><span class="o">=</span>netstat <span class="nt">-n</span> <span class="nt">--tcp</span> <span class="nt">--listen</span> | <span class="nv">$GREP</span> :<span class="nv">$LISTENER_PORT</span>
    <span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$port</span><span class="s2">"</span> <span class="o">!=</span> <span class="s2">""</span> <span class="o">]</span>
    <span class="k">then
        </span><span class="nb">echo</span> <span class="s2">"Port </span><span class="nv">$LISTENER_PORT</span><span class="s2"> appears to be in use by another application. Specify a different port in the configuration file."</span>
        <span class="nb">exit </span>1
    <span class="k">fi</span>
<span class="o">}</span>

check_em_express_port_availability<span class="o">()</span>
<span class="o">{</span>
    <span class="nv">port</span><span class="o">=</span>netstat <span class="nt">-n</span> <span class="nt">--tcp</span> <span class="nt">--listen</span> | <span class="nv">$GREP</span> :<span class="nv">$EM_EXPRESS_PORT</span>
    <span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$port</span><span class="s2">"</span> <span class="o">!=</span> <span class="s2">""</span> <span class="o">]</span>
    <span class="k">then
        </span><span class="nb">echo</span> <span class="s2">"Port </span><span class="nv">$EM_EXPRESS_PORT</span><span class="s2"> appears to be in use by another application. Specify a different port in the configuration file."</span>
        <span class="nb">exit </span>1
    <span class="k">fi</span>
<span class="o">}</span>

<span class="k">case</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="k">in
    </span>start<span class="p">)</span>
        start
        <span class="p">;;</span>
    stop<span class="p">)</span>
        stop
        <span class="p">;;</span>
    restart<span class="p">)</span>
        stop
        start
        <span class="p">;;</span>
    configure<span class="p">)</span>
        configure
        <span class="p">;;</span>
    <span class="k">*</span><span class="p">)</span>
        <span class="nb">echo</span> <span class="s2">"Usage: </span><span class="nv">$0</span><span class="s2"> {start|stop|restart|configure}"</span>
        <span class="nb">exit </span>1
<span class="k">esac</span>
</pre></td></tr></tbody></table></code></div></div>
<p>Esto es porque por defecto el contenido del script del fichero configure me daba problemas, por lo que con estas modificaciones me funciona correctamente.</p>

<p>Ahora, ya solo nos queda ejecutar el comando de la instalación y esperar. Este proceso puede tardar varios minutos.</p>
<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre></td><td class="rouge-code"><pre>pablo@oracle-server:~<span class="nv">$ </span><span class="nb">sudo</span> /etc/init.d/oracledb_ORCLCDB-19c configure
/etc/init.d/oracledb_ORCLCDB-19c: línea 243: <span class="nt">-n</span>: orden no encontrada
/etc/init.d/oracledb_ORCLCDB-19c: línea 253: <span class="nt">-n</span>: orden no encontrada
Configuring Oracle Database ORCLCDB.
Preparar para funcionamiento de base de datos
8% finalizado
Copiando archivos de base de datos
31% finalizado
Creando e iniciando instancia Oracle
32% finalizado
36% finalizado
40% finalizado
43% finalizado
46% finalizado
Terminando creación de base de datos
51% finalizado
54% finalizado
Creando Bases de Datos de Conexión
58% finalizado
77% finalizado
Ejecutando acciones posteriores a la configuración
100% finalizado
Creación de la base de datos terminada. Consulte los archivos log de /opt/oracle/cfgtoollogs/dbca/ORCLCDB
 para obtener más información.
Información de Base de Datos:
Nombre de la Base de Datos Global:ORCLCDB
Identificador del Sistema <span class="o">(</span>SID<span class="o">)</span>:ORCLCDB
Para obtener información detallada, consulte el archivo log <span class="s2">"/opt/oracle/cfgtoollogs/dbca/ORCLCDB/ORCLCDB.log"</span><span class="nb">.</span>

Database configuration completed successfully. The passwords were auto generated, you must change them by connecting to the database using <span class="s1">'sqlplus / as sysdba'</span> as the oracle user.
</pre></td></tr></tbody></table></code></div></div>

<h2 id="configuración"><span class="me-2">Configuración</span><a href="#configuración" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Al finalizar la ejecución del script de configuración de Oracle Database, se indica que la base de datos ha sido configurada exitosamente. Sin embargo, antes de poder usar Oracle como el usuario oracle, es necesario configurar las variables de entorno adecuadas para garantizar que el sistema pueda encontrar las herramientas y archivos correctos de Oracle. Estas variables definen el entorno en el que Oracle se ejecuta, y se deben configurar correctamente para que los comandos de Oracle funcionen sin problemas. Por lo tanto, nos cambiamos al usuario <code class="language-plaintext highlighter-rouge">oracle</code> y en el fichero <code class="language-plaintext highlighter-rouge">~/.bashrc</code> añadimos las variables al final:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>pablo@oracle-server:~<span class="nv">$ </span><span class="nb">sudo </span>su - oracle
oracle@oracle-server:~<span class="nv">$ </span><span class="nb">tail</span> <span class="nt">-6</span> ~/.bashrc 
<span class="c">#Oracle environments</span>
<span class="nb">export </span><span class="nv">ORACLE_HOME</span><span class="o">=</span>/opt/oracle/product/19c/dbhome_1
<span class="nb">export </span><span class="nv">ORACLE_SID</span><span class="o">=</span>ORCLCDB
<span class="nb">export </span><span class="nv">ORACLE_BASE</span><span class="o">=</span>/opt/oracle
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$ORACLE_HOME</span>/bin:<span class="nv">$PATH</span>
<span class="nb">export </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="nv">$ORACLE_HOME</span>/lib:<span class="nv">$LD_LIBRARY_PATH</span>
oracle@oracle-server:~<span class="nv">$ </span><span class="nb">source</span> ~/.bashrc
</pre></td></tr></tbody></table></code></div></div>

<p>Una vez que hemos añadido las variables de entorno necesarias en el archivo .bashrc del usuario oracle y hemos recargado dicho archivo, las herramientas de Oracle deberían estar completamente configuradas para su uso. Esto nos permite acceder a la base de datos utilizando comandos como sqlplus, que es la herramienta de línea de comandos de Oracle para interactuar con la base de datos.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre>oracle@oracle-server:~<span class="nv">$ </span>sqlplus / as sysdba

SQL<span class="k">*</span>Plus: Release 19.0.0.0.0 - Production on Tue Nov 19 13:33:37 2024
Version 19.3.0.0.0

Copyright <span class="o">(</span>c<span class="o">)</span> 1982, 2019, Oracle.  All rights reserved.


Conectado a:
Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production
Version 19.3.0.0.0

SQL&gt;
</pre></td></tr></tbody></table></code></div></div>

<p>💡 Tip: El comando <code class="language-plaintext highlighter-rouge">rlwrap</code> es una herramienta muy útil que mejora la experiencia de uso de programas de línea de comandos que no tienen soporte nativo para edición de texto o historial de comandos. En el contexto de Oracle y herramientas como SQL*Plus, rlwrap puede ser un gran aliado al proporcionar características de edición y autocompletado que, de otra manera, no estarían disponibles.</p>

<p>Primero de todo lo instalamos:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>oracle@oracle-server:~<span class="nv">$ </span><span class="nb">sudo </span>apt <span class="nb">install </span>rlwrap
</pre></td></tr></tbody></table></code></div></div>

<p>Para aprovechar la funcionalidad de rlwrap de manera automática cada vez que iniciemos SQL<em>Plus, podemos añadir el comando rlwrap a las variables de entorno del usuario oracle. Esto hará que SQL</em>Plus siempre se ejecute con las ventajas de rlwrap, sin tener que escribir el comando completo cada vez. Por lo tanto, en el <code class="language-plaintext highlighter-rouge">~/.bashrc</code> añadimos la siguiente línea:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">alias </span><span class="nv">sqlplus</span><span class="o">=</span><span class="s1">'rlwrap sqlplus'</span>
</pre></td></tr></tbody></table></code></div></div>

<p>Recargamos:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>oracle@oracle-server:~<span class="nv">$ </span><span class="nb">source</span> ~/.bashrc
</pre></td></tr></tbody></table></code></div></div>

<p>Y ahora cada vez que accedamos a la terminal de sqlplus lo tendremos a modo terminal, donde podremos recuperar comandos, hacer Ctrl + l, etc.</p>

<p><strong>Añadir usuario principal</strong></p>

<p>En el proceso de configuración de la base de datos Oracle, hemos visto que podemos acceder a la base de datos desde el usuario oracle, dado que previamente le otorgamos los permisos necesarios. Sin embargo, generalmente no vamos a querer realizar todas las tareas administrativas directamente desde el usuario oracle, ya que este es un usuario dedicado principalmente a gestionar Oracle, y preferimos usar nuestro propio usuario principal para interactuar con el sistema, a menos que se nos indique lo contrario.</p>

<p>Para poder administrar la base de datos desde nuestro usuario principal, necesitamos agregarlo al grupo dba que creamos anteriormente. Esto nos permitirá tener acceso a las herramientas y permisos necesarios para gestionar Oracle como si fuéramos administradores, sin tener que cambiar de usuario constantemente.</p>

<p>Además, debemos asegurarnos de que las variables de entorno relacionadas con Oracle estén configuradas correctamente en nuestro usuario principal, de manera que podamos acceder a las herramientas de Oracle (como SQL*Plus) y ejecutar comandos administrativos desde nuestro propio entorno de usuario.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre>pablo@oracle-server:~<span class="nv">$ </span><span class="nb">sudo </span>usermod <span class="nt">-a</span> <span class="nt">-G</span> dba pablo
<span class="o">[</span><span class="nb">sudo</span><span class="o">]</span> contraseña para pablo: 
pablo@oracle-server:~<span class="nv">$ </span><span class="nb">sudo </span>nano ~/.bashrc
pablo@oracle-server:~<span class="nv">$ </span><span class="nb">source</span> ~/.bashrc
pablo@oracle-server:~<span class="nv">$ </span>sqlplus / as sysdba

SQL<span class="k">*</span>Plus: Release 19.0.0.0.0 - Production on Tue Nov 19 13:49:52 2024
Version 19.3.0.0.0

Copyright <span class="o">(</span>c<span class="o">)</span> 1982, 2019, Oracle.  All rights reserved.


Conectado a:
Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production
Version 19.3.0.0.0

SQL&gt; 
</pre></td></tr></tbody></table></code></div></div>

<h2 id="creación-de-un-usuario-en-oracle-19c"><span class="me-2">Creación de un usuario en Oracle 19c</span><a href="#creación-de-un-usuario-en-oracle-19c" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Al trabajar con Oracle Database, una de las tareas más comunes es la creación de usuarios. Sin embargo, en algunas configuraciones recientes, como la que estamos utilizando en Oracle 19c, puede surgir un error relacionado con el parámetro _ORACLE_SCRIPT. Aquí te explicamos cómo crear un usuario y cómo resolver este problema si aparece.</p>

<p><strong>Creación de un usuario en Oracle</strong></p>

<p>Para crear un usuario en Oracle Database, seguimos estos pasos:</p>

<p>Accedemos a la base de datos con privilegios de administrador utilizando SQL*Plus:</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>pablo@oracle-server:~$ sqlplus / as sysdba

SQL*Plus: Release 19.0.0.0.0 - Production on Tue Nov 19 13:58:52 2024
Version 19.3.0.0.0

Copyright (c) 1982, 2019, Oracle.  All rights reserved.


Conectado a:
Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production
Version 19.3.0.0.0
</pre></td></tr></tbody></table></code></div></div>

<p>Y creamos el nuevo usuario:</p>
<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">SQL</span><span class="o">&gt;</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="n">pablo</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">password</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">USER</span> <span class="n">pablo</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">password</span>
            <span class="o">*</span>
<span class="n">ERROR</span> <span class="n">en</span> <span class="n">linea</span> <span class="mi">1</span><span class="p">:</span>
<span class="n">ORA</span><span class="o">-</span><span class="mi">65096</span><span class="p">:</span> <span class="n">nombre</span> <span class="n">de</span> <span class="n">usuario</span> <span class="n">o</span> <span class="n">rol</span> <span class="n">comun</span> <span class="k">no</span> <span class="n">valido</span>
</pre></td></tr></tbody></table></code></div></div>

<p>Pero como podemos ver nos ha dado error. Este error ocurre porque Oracle 12c y versiones posteriores introdujeron el concepto de <strong>bases de datos multitenant</strong>, donde una única instancia puede contener múltiples bases de datos “pluggable” (PDB). De forma predeterminada, Oracle espera que los nombres de usuario sigan ciertas convenciones especiales para usuarios “comunes” que se compartan entre las bases de datos contenedoras (CDB) y las bases de datos pluggable (PDB).</p>

<p>Si no estamos configurando un usuario común, sino uno específico para nuestra base de datos pluggable, necesitamos desactivar temporalmente esta restricción.</p>

<p>Para solucionarlo tendremos que ejecutar el siguiente comando:</p>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">ALTER</span> <span class="k">SESSION</span> <span class="k">SET</span> <span class="nv">"_ORACLE_SCRIPT"</span><span class="o">=</span><span class="k">TRUE</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<p>Y ya nos dejará crear el usuario sin problemas:</p>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">SQL</span><span class="o">&gt;</span> <span class="k">ALTER</span> <span class="k">SESSION</span> <span class="k">SET</span> <span class="nv">"_ORACLE_SCRIPT"</span><span class="o">=</span><span class="k">TRUE</span><span class="p">;</span>

<span class="n">Sesion</span> <span class="n">modificada</span><span class="p">.</span>

<span class="k">SQL</span><span class="o">&gt;</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="n">pablo</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">password</span><span class="p">;</span>

<span class="n">Usuario</span> <span class="n">creado</span><span class="p">.</span>
</pre></td></tr></tbody></table></code></div></div>

<p>Le damos permisos para conectarnos:</p>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">SQL</span><span class="o">&gt;</span> <span class="k">GRANT</span> <span class="k">CONNECT</span><span class="p">,</span> <span class="n">RESOURCE</span> <span class="k">TO</span> <span class="n">pablo</span><span class="p">;</span>

<span class="n">Concesion</span> <span class="n">terminada</span> <span class="n">correctamente</span><span class="p">.</span>
</pre></td></tr></tbody></table></code></div></div>

<p>Y probamos a conectarnos con el nuevo usuario:</p>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="n">pablo</span><span class="o">@</span><span class="n">oracle</span><span class="o">-</span><span class="n">server</span><span class="p">:</span><span class="o">~</span><span class="err">$</span> <span class="n">sqlplus</span> <span class="n">pablo</span><span class="o">/</span><span class="n">password</span>

<span class="k">SQL</span><span class="o">*</span><span class="n">Plus</span><span class="p">:</span> <span class="n">Release</span> <span class="mi">19</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">Production</span> <span class="k">on</span> <span class="n">Tue</span> <span class="n">Nov</span> <span class="mi">19</span> <span class="mi">14</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">34</span> <span class="mi">2024</span>
<span class="k">Version</span> <span class="mi">19</span><span class="p">.</span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span>

<span class="n">Copyright</span> <span class="p">(</span><span class="k">c</span><span class="p">)</span> <span class="mi">1982</span><span class="p">,</span> <span class="mi">2019</span><span class="p">,</span> <span class="n">Oracle</span><span class="p">.</span>  <span class="k">All</span> <span class="n">rights</span> <span class="n">reserved</span><span class="p">.</span>


<span class="n">Conectado</span> <span class="n">a</span><span class="p">:</span>
<span class="n">Oracle</span> <span class="k">Database</span> <span class="mi">19</span><span class="k">c</span> <span class="n">Enterprise</span> <span class="n">Edition</span> <span class="n">Release</span> <span class="mi">19</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="o">-</span> <span class="n">Production</span>
<span class="k">Version</span> <span class="mi">19</span><span class="p">.</span><span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span>

<span class="k">SQL</span><span class="o">&gt;</span>
</pre></td></tr></tbody></table></code></div></div>

<p>Con esto concluimos la instalación y configuración de Oracle Database 19c sobre una máquina virtual con Debian 12, utilizando QEMU/KVM como hipervisor. A lo largo de este proceso, hemos cubierto todos los aspectos necesarios para poner en marcha la base de datos, desde la configuración inicial del sistema operativo hasta los pasos específicos para preparar y personalizar el entorno de Oracle.</p>

<p>Hemos abordado detalles importantes como la instalación de dependencias, la creación de usuarios y grupos, la gestión de variables de entorno y la resolución de errores comunes. Además, vimos cómo realizar tareas básicas de administración, como el acceso a SQL*Plus, la adición de usuarios y el uso de herramientas útiles como rlwrap para mejorar la experiencia en la línea de comandos.</p>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/base-de-datos/">Base de Datos</a>,
          <a href="/categories/instalaci%C3%B3n/">Instalación</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/instalaci%C3%B3n/"
            class="post-tag no-text-decoration"
          >Instalación</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=Instalaci%C3%B3n%20de%20Oracle%2019c%20en%20Debian%2012%20-%20Blog%20personal&url=%2Fposts%2Finstalacion-oracle19c%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=Instalaci%C3%B3n%20de%20Oracle%2019c%20en%20Debian%2012%20-%20Blog%20personal&u=%2Fposts%2Finstalacion-oracle19c%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=%2Fposts%2Finstalacion-oracle19c%2F&text=Instalaci%C3%B3n%20de%20Oracle%2019c%20en%20Debian%2012%20-%20Blog%20personal" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/systemd-boot/">Systemd-Boot</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/certificado/">Práctica: Certificados digitales. HTTPS</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/systemd/">systemd/sshfs</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/integridad/">Integridad, firmas y autenticación</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/openstack/">Escenario en OpenStack</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/criptograf%C3%ADa/">Criptografía</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/systemd/">Systemd</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/aplicaciones/">Aplicaciones</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/automatizaci%C3%B3n/">Automatización</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/cloud/">Cloud</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/compartici%C3%B3n-de-archivos/">Compartición de archivos</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/instalaci%C3%B3n/">Instalación</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/virtualizaci%C3%B3n/">Virtualización</a>
      
    </div>
  </section>


            </div>

            
              
              



  <section id="toc-wrapper" class="d-none ps-0 pe-4">
    <h2 class="panel-heading ps-3 mb-2">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->















  

  
    











            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/instalacion-wordpress/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>Instalación de WordPress en un servidor LEMP</p>
    </a>
  

  
    <a
      href="/posts/openstack/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>Escenario en OpenStack</p>
    </a>
  
</nav>

            
              
              <!-- The comments switcher -->


            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2025</time>

    
      <a href="https://github.com/PabloMartin19">Pablo Martín Hidalgo</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >Some rights reserved.</span>
    
  </p>

  <p>Using the <a
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="v7.1.1"
        href="https://github.com/cotes2020/jekyll-theme-chirpy"
        target="_blank"
        rel="noopener"
      >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center d-none">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/criptograf%C3%ADa/">Criptografía</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/systemd/">Systemd</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/aplicaciones/">Aplicaciones</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/automatizaci%C3%B3n/">Automatización</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/cloud/">Cloud</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/compartici%C3%B3n-de-archivos/">Compartición de archivos</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/instalaci%C3%B3n/">Instalación</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/virtualizaci%C3%B3n/">Virtualización</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- JavaScripts -->
    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.29.0/dist/tocbot.min.js"></script>







<script src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  







    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
    noResultsText: '<p class="mt-5">Oops! No results found.</p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

