<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="es" >
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="Integridad, firmas y autenticación" />
<meta name="author" content="Pablo Martín Hidalgo" />
<meta property="og:locale" content="es" />
<meta name="description" content="En esta práctica trabajaremos con firmas electrónicas, integridad de ficheros y autenticación." />
<meta property="og:description" content="En esta práctica trabajaremos con firmas electrónicas, integridad de ficheros y autenticación." />
<link rel="canonical" href="/posts/integridad/" />
<meta property="og:url" content="/posts/integridad/" />
<meta property="og:site_name" content="Blog personal" />
<meta property="og:image" content="/assets/img/posts/integridad/portada.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-12-19T18:30:00+01:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="/assets/img/posts/integridad/portada.png" />
<meta property="twitter:title" content="Integridad, firmas y autenticación" />
<meta name="twitter:site" content="@Tagarnina10" />
<meta name="twitter:creator" content="@Tagarnina10" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Pablo Martín Hidalgo","url":"https://github.com/PabloMartin19/"},"dateModified":"2025-01-17T19:07:35+01:00","datePublished":"2024-12-19T18:30:00+01:00","description":"En esta práctica trabajaremos con firmas electrónicas, integridad de ficheros y autenticación.","headline":"Integridad, firmas y autenticación","image":"/assets/img/posts/integridad/portada.png","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/integridad/"},"url":"/posts/integridad/"}</script>
<!-- End Jekyll SEO tag -->


  <title>Integridad, firmas y autenticación | Blog personal
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Blog personal">
<meta name="application-name" content="Blog personal">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Resource Hints -->
  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
      
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
    
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" >
      
    
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
    
  

  <!-- Bootstrap -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  

  <!-- Theme style -->
  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  <!-- Web Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.6.0/css/all.min.css">

  <!-- 3rd-party Dependencies -->

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.29.0/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Image Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      let self = this;this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          self.clearMode();
        }
        self.notify();
      });

      if (!this.hasMode) {
        return;
      }

      if (this.isDarkMode) {
        this.setDark();
      } else {
        this.setLight();
      }
    }

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isPreferDark() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }get modeStatus() {
      if (this.hasMode) {
        return this.mode;
      } else {
        return this.isPreferDark ? ModeToggle.DARK_MODE : ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        this.clearMode();
      } else {
        if (this.isPreferDark) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    }
  }

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/avatar.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <a class="site-title d-block" href="/">Blog personal</a>
    <p class="site-subtitle fst-italic mb-0">Los mejores programas son aquellos que funcionan.</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/PabloMartin19"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/Tagarnina10"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fa-brands fa-x-twitter"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['pmartinhidalgo19','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="https://www.linkedin.com/in/pablo-mart%C3%ADn-hidalgo/"
          aria-label="linkedin"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-linkedin"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">Home</a>
            </span>

          
        
          
        
          
            
              <span>Integridad, firmas y autenticación</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search id="search" class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  

  
  

  




<!-- return -->




<article class="px-1">
  <header>
    <h1 data-toc-skip>Integridad, firmas y autenticación</h1>
    
      <p class="post-desc fw-light mb-4">En esta práctica trabajaremos con firmas electrónicas, integridad de ficheros y autenticación.</p>
    

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1734629400"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Dec 19, 2024
</time>

      </span>

      <!-- lastmod date -->
      
        <span>
          Updated
          <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1737137255"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Jan 17, 2025
</time>

        </span>
      

      
        
        
        

        

        <div class="mt-3 mb-3">
          <a href="/assets/img/posts/integridad/portada.png" class="popup img-link preview-img shimmer"><img src="/assets/img/posts/integridad/portada.png"  alt="Preview Image" width="1200" height="630"  loading="lazy"></a></div>
      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              
                <a href="https://github.com/PabloMartin19/">Pablo Martín Hidalgo</a>
                
              
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="7079 words"
>
  <em>39 min</em> read</span>

        </div>
      </div>
    </div>
  </header>

  <div class="content">
    <h2 id="tarea-1-firmas-electrónicas"><span class="me-2">Tarea 1: Firmas electrónicas</span><a href="#tarea-1-firmas-electrónicas" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>En este primer apartado vamos a trabajar con las firmas eléctronicas, por lo que vamos a apoyarnos en los siguientes enlaces:</p>

<ul>
  <li><a href="https://www.gnupg.org/gph/es/manual/x75.html">Intercambio de claves</a></li>
  <li><a href="https://www.gnupg.org/gph/es/manual/x354.html">Validación de otras claves en nuestro anillo de claves públicas</a></li>
  <li><a href="https://www.debian.org/events/keysigning.es.html">Firmado de claves (Debian)</a></li>
</ul>

<h3 id="manda-un-documento-y-la-firma-electrónica-del-mismo-a-un-compañero-verifica-la-firma-que-tú-has-recibido"><span class="me-2">Manda un documento y la firma electrónica del mismo a un compañero. Verifica la firma que tú has recibido.</span><a href="#manda-un-documento-y-la-firma-electrónica-del-mismo-a-un-compañero-verifica-la-firma-que-tú-has-recibido" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Antes de comenzar la práctica, voy a listar las claves existentes en mi keyring:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--list-keys</span>
/home/pavlo/.gnupg/pubring.kbx
<span class="nt">------------------------------</span>
pub   rsa3072 2024-12-13 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2026-12-13]
      C2E235639EB3A2A420828C9DED45D8BE85D4DB1A
uid        <span class="o">[</span>  absoluta <span class="o">]</span> Pablo Martín Hidalgo &lt;pmartinhidalgo19@gmail.com&gt;
sub   rsa3072 2024-12-13 <span class="o">[</span>E] <span class="o">[</span>caduca: 2026-12-13]
</pre></td></tr></tbody></table></code></div></div>

<p>Como podemos observar, en mi anillo de claves se encuentra mi clave personal. Por tanto, el siguiente paso será subir esta clave a un servidor de claves, como puede ser <strong>keys.gnupg.net</strong>, utilizando el fingerprint para identificarla de forma precisa.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--keyserver</span> keys.gnupg.net <span class="nt">--send-key</span> C2E235639EB3A2A420828C9DED45D8BE85D4DB1A
gpg: enviando clave ED45D8BE85D4DB1A a hkp://pgp.surf.nl
</pre></td></tr></tbody></table></code></div></div>

<p>La clave ha sido enviada al servidor de claves, lo que permitirá que cualquier persona que reciba mi archivo firmado pueda descargarla e importarla para verificar la firma.</p>

<p>Es posible elegir entre dos métodos al firmar un archivo: incluir la firma directamente dentro del archivo utilizando la opción <code class="language-plaintext highlighter-rouge">--sign</code>, o bien generar la firma en un archivo separado, dejando el original intacto. En este caso, optaremos por la segunda alternativa, usando la opción <code class="language-plaintext highlighter-rouge">--detach-sign</code>.</p>

<p>Por lo tanto, procederemos a firmar un documento llamado <em>UE-Empresa.pdf</em>, separando la firma en un archivo distinto. Para lograrlo, ejecutaremos el comando correspondiente:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--detach-sign</span> UE-Empresa.pdf
</pre></td></tr></tbody></table></code></div></div>

<p>Durante el proceso de firmado, el sistema solicitará la frase de paso asociada a nuestra clave privada. Una vez ingresada correctamente, el firmado se completará. A continuación, procederemos a listar el documento firmado:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span> | <span class="nb">grep</span> <span class="s1">'UE'</span>
<span class="nt">-rw-r--r--</span>  1 pavlo pavlo 33734 nov 22 12:09 UE-Empresa.pdf
<span class="nt">-rw-r--r--</span>  1 pavlo pavlo   438 dic 18 17:28 UE-Empresa.pdf.sig
</pre></td></tr></tbody></table></code></div></div>

<p>Para verificar que está firmado por nosotros ejecutamos el siguiente comando:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--verify</span> UE-Empresa.pdf.sig UE-Empresa.pdf
gpg: Firmado el mié 18 dic 2024 17:28:53 CET
gpg:                usando RSA clave C2E235639EB3A2A420828C9DED45D8BE85D4DB1A
gpg: Firma correcta de <span class="s2">"Pablo Martín Hidalgo &lt;pmartinhidalgo19@gmail.com&gt;"</span> <span class="o">[</span>absoluta]
</pre></td></tr></tbody></table></code></div></div>

<p>Podemos observar que tanto el archivo original (<em>UE-Empresa.pdf</em>) como su firma (<em>UE-Empresa.pdf.sig</em>) están en ficheros independientes. Esto nos permite enviarlos a otra persona, quien podrá verificar la integridad del archivo utilizando nuestra clave pública.</p>

<p>En este caso, mi compañero también ha seguido un procedimiento similar al nuestro. Por lo tanto, antes de proceder a verificar la firma de su archivo, es necesario importar su clave pública. Para realizar este paso, utilizaré el siguiente comando:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--keyserver</span> pgp.rediris.es <span class="nt">--recv-keys</span> DB72B640
gpg: clave F78DAA71DB72B640: clave pública <span class="s2">"jose antonio canalo gonzalez &lt;joseantoniocgonzalez83@gmail.com&gt;"</span> importada
gpg: Cantidad total procesada: 1
gpg:               importadas: 1
</pre></td></tr></tbody></table></code></div></div>

<p>Como podemos observar a continuación, la clave pública de mi compañero Jose se ha importado correctamente:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--list-keys</span>
/home/pavlo/.gnupg/pubring.kbx
<span class="nt">------------------------------</span>
pub   rsa3072 2024-12-13 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2026-12-13]
      C2E235639EB3A2A420828C9DED45D8BE85D4DB1A
uid        <span class="o">[</span>  absoluta <span class="o">]</span> Pablo Martín Hidalgo &lt;pmartinhidalgo19@gmail.com&gt;
sub   rsa3072 2024-12-13 <span class="o">[</span>E] <span class="o">[</span>caduca: 2026-12-13]

pub   rsa4096 2024-12-18 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2025-12-18]
      7E7ECEAC3D3DF6FDAF903497F78DAA71DB72B640
uid        <span class="o">[</span>desconocida] jose antonio canalo gonzalez &lt;joseantoniocgonzalez83@gmail.com&gt;
sub   rsa4096 2024-12-18 <span class="o">[</span>E] <span class="o">[</span>caduca: 2025-12-18]
</pre></td></tr></tbody></table></code></div></div>

<p>Jose me ha enviado dos ficheros, un fichero <code class="language-plaintext highlighter-rouge">documento.txt</code> que es el fichero original, y un fichero <code class="language-plaintext highlighter-rouge">documento.txt.sig</code>, que contiene la firma del mismo. Para verificar la firma, vamos a hacer uso de la opción <code class="language-plaintext highlighter-rouge">--verify</code>, pasando como parámetros ambos ficheros:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--verify</span> documento.txt.sig documento.txt
gpg: Firmado el mié 18 dic 2024 18:42:03 CET
gpg:                usando RSA clave 7E7ECEAC3D3DF6FDAF903497F78DAA71DB72B640
gpg: Firma correcta de <span class="s2">"jose antonio canalo gonzalez &lt;joseantoniocgonzalez83@gmail.com&gt;"</span> <span class="o">[</span>desconocido]
gpg: ATENCIÓN: ¡Esta clave no está certificada por una firma de confianza!
gpg:          No hay indicios de que la firma pertenezca al propietario.
Huellas dactilares de la clave primaria: 7E7E CEAC 3D3D F6FD AF90  3497 F78D AA71 DB72 B640
</pre></td></tr></tbody></table></code></div></div>

<p>Como muestra la salida del comando, la firma es válida. Sin embargo, también aparece un mensaje indicando que la clave no está certificada por una firma confiable. Esto significa que no existen pruebas de que la firma pertenezca realmente al propietario declarado. Esto ocurre porque la clave pública que acabamos de importar carece de validez, ya que no la hemos firmado ni contamos con intermediarios confiables que puedan respaldarla de manera indirecta. Más adelante, explicaremos este concepto con mayor profundidad.</p>

<p>Antes de continuar con el siguiente paso, he optado por eliminar la clave pública de mi anillo de claves. Esto me permitirá empezar desde cero, asegurándome de que no quede ninguna clave almacenada. Para realizar esta acción, utilizaré la opción <code class="language-plaintext highlighter-rouge">--delete-keys</code>:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--delete-keys</span> 7E7ECEAC3D3DF6FDAF903497F78DAA71DB72B640
gpg <span class="o">(</span>GnuPG<span class="o">)</span> 2.2.40<span class="p">;</span> Copyright <span class="o">(</span>C<span class="o">)</span> 2022 g10 Code GmbH
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.


pub  rsa4096/F78DAA71DB72B640 2024-12-18 jose antonio canalo gonzalez &lt;joseantoniocgonzalez83@gmail.com&gt;

¿Eliminar esta clave del anillo? <span class="o">(</span>s/N<span class="o">)</span> s
</pre></td></tr></tbody></table></code></div></div>

<p>Ya he eliminado la clave pública de Jose de mi keyring.</p>

<h3 id="crea-un-anillo-de-confianza-entre-los-miembros-de-la-clase"><span class="me-2">Crea un anillo de confianza entre los miembros de la clase</span><a href="#crea-un-anillo-de-confianza-entre-los-miembros-de-la-clase" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Para garantizar la seguridad en el uso de claves GPG, es fundamental asegurarnos de que las claves públicas con las que interactuamos realmente pertenecen a sus supuestos dueños. Sin esta verificación, podríamos estar cifrando información para un atacante en lugar del destinatario legítimo o aceptando firmas falsas sin darnos cuenta. La confianza en las claves es, por tanto, un aspecto esencial en la criptografía.</p>

<p>Una forma de establecer esta confianza es a través del <strong>anillo de confianza</strong>, un sistema basado en la validación mutua entre personas que confían entre sí. Este mecanismo permite que los usuarios firmen la huella digital (<em>fingerprint</em>) de una clave pública utilizando su propia clave privada. Una vez firmada, la clave se devuelve a su propietario, quien puede compartirla con otros, demostrando así que ha sido validada por alguien de confianza.</p>

<p>Este proceso no solo fortalece la credibilidad de una clave, sino que también facilita la verificación indirecta. Si confiamos en una persona y esta, a su vez, ha certificado la clave de otra, podemos asumir que dicha clave es confiable sin necesidad de validarla directamente. La efectividad de este modelo depende de cómo se configuren las relaciones de confianza y de la fiabilidad de quienes participan en la red.</p>

<p>Aunque puede parecer complicado al principio, este sistema es muy útil para garantizar la autenticidad de las claves en un entorno seguro. Un ejemplo práctico ayudará a comprender mejor su funcionamiento.</p>

<p><strong>Pasos para crear un anillo de confianza</strong></p>

<p>El primer paso es subir nuestra clave pública a un servidor de claves, en este caso lo subiré a <code class="language-plaintext highlighter-rouge">pgp.rediris.es</code>:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--keyserver</span> hkp://pgp.rediris.es <span class="nt">--send-keys</span> C2E235639EB3A2A420828C9DED45D8BE85D4DB1A
gpg: enviando clave ED45D8BE85D4DB1A a hkp://pgp.rediris.es
</pre></td></tr></tbody></table></code></div></div>

<p>Luego, procedemos a descargarnos las claves públicas de mis compañeros, usando sus nombres o correos en la búsqueda de <code class="language-plaintext highlighter-rouge">pgp.rediris.es</code>, con el siguiente comando:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--keyserver</span> pgp.rediris.es <span class="nt">--recv-keys</span> DB72B640
gpg: clave F78DAA71DB72B640: clave pública <span class="s2">"jose antonio canalo gonzalez &lt;joseantoniocgonzalez83@gmail.com&gt;"</span> importada
gpg: Cantidad total procesada: 1
gpg:               importadas: 1
</pre></td></tr></tbody></table></code></div></div>

<p>Básicamente cogemos los últimos dígitos para importar la clave y repetimos el proceso con todos los compañeros.</p>

<p>Seguidamente, tendremos que firmar las claves públicas descargadas para poder validarlas en nuestro anillo de confianza. Lo haremos de la siguiente forma:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--sign-key</span> 7E7ECEAC3D3DF6FDAF903497F78DAA71DB72B640

pub  rsa4096/F78DAA71DB72B640
     creado: 2024-12-18  caduca: 2025-12-18  uso: SC  
     confianza: desconocido   validez: desconocido
sub  rsa4096/C32521E4109A45D6
     creado: 2024-12-18  caduca: 2025-12-18  uso: E   
<span class="o">[</span>desconocida] <span class="o">(</span>1<span class="o">)</span><span class="nb">.</span> jose antonio canalo gonzalez &lt;joseantoniocgonzalez83@gmail.com&gt;


pub  rsa4096/F78DAA71DB72B640
     creado: 2024-12-18  caduca: 2025-12-18  uso: SC  
     confianza: desconocido   validez: desconocido
 Huella clave primaria: 7E7E CEAC 3D3D F6FD AF90  3497 F78D AA71 DB72 B640

     jose antonio canalo gonzalez &lt;joseantoniocgonzalez83@gmail.com&gt;

Esta clave expirará el 2025-12-18.
¿Está realmente seguro de querer firmar esta clave
con su clave: <span class="s2">"Pablo Martín Hidalgo &lt;pmartinhidalgo19@gmail.com&gt;"</span> <span class="o">(</span>ED45D8BE85D4DB1A<span class="o">)</span>?

¿Firmar de verdad? <span class="o">(</span>s/N<span class="o">)</span> s
</pre></td></tr></tbody></table></code></div></div>

<p>Repetimos el proceso con <strong>Alejandro Liáñez</strong> y con <strong>Andrés Morales</strong>.</p>

<p>A continuación, será necesario exportar las claves de nuestros compañeros con la firma que hemos generado recientemente. Este paso nos permitirá distribuirlas manualmente a sus propietarios, quienes podrán importarlas en su sistema. Para este propósito, en mi caso, exporté las claves de tres compañeros utilizando los siguientes comandos:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--armor</span> <span class="nt">--export</span> <span class="nt">-a</span> <span class="s2">"Andrés Morales González"</span> <span class="o">&gt;</span> andres123.asc
pavlo@debian:~<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--armor</span> <span class="nt">--export</span> <span class="nt">-a</span> <span class="s2">"jose antonio canalo gonzalez"</span> <span class="o">&gt;</span> clave-canalo.asc
pavlo@debian:~<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--armor</span> <span class="nt">--export</span> <span class="nt">-a</span> <span class="s2">"Alejandro Liáñez Frutos"</span> <span class="o">&gt;</span> ale.asc
</pre></td></tr></tbody></table></code></div></div>

<p>Y como vemos las claves han sido correctamente exportadas a los correspondientes ficheros:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span> | <span class="nb">grep</span> <span class="s1">'.asc'</span>
<span class="nt">-rw-r--r--</span>  1 pavlo pavlo  4260 dic 18 19:41 ale.asc
<span class="nt">-rw-r--r--</span>  1 pavlo pavlo  3069 dic 18 17:48 andres123.asc
<span class="nt">-rw-r--r--</span>  1 pavlo pavlo  3780 dic 18 19:34 clave-canalo.asc
</pre></td></tr></tbody></table></code></div></div>

<p>Mis compañeros han seguido los mismos pasos, así que ellos también me enviaron mi clave con las correspondientes firmas, que debemos importar:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/firma<span class="o">()</span><span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span>
total 12
<span class="nt">-rw-r--r--</span> 1 pavlo pavlo 3244 dic 18 19:37 pablo_firmada.asc
<span class="nt">-rw-r--r--</span> 1 pavlo pavlo 3663 dic 18 18:42 pmh19.asc
<span class="nt">-rw-r--r--</span> 1 pavlo pavlo 3069 dic 18 17:44 pmh.asc
</pre></td></tr></tbody></table></code></div></div>

<p>Como vemos hay 3 ficheros, pertenecientes a cada uno de los compañeros que han colaborado conmigo en este anillo de confianza, por lo que ahora tendremos que importarlas:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/firma<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--import</span> pablo_firmada.asc 
gpg: clave ED45D8BE85D4DB1A: <span class="s2">"Pablo Martín Hidalgo &lt;pmartinhidalgo19@gmail.com&gt;"</span> 1 firma nueva
gpg: Cantidad total procesada: 1
gpg:         nuevas firmas: 1
gpg: marginals needed: 3  completes needed: 1  trust model: pgp
gpg: nivel: 0  validez:   1  firmada:   3  confianza: 0-, 0q, 0n, 0m, 0f, 1u
gpg: nivel: 1  validez:   3  firmada:   0  confianza: 3-, 0q, 0n, 0m, 0f, 0u
gpg: siguiente comprobación de base de datos de confianza el: 2025-12-18
</pre></td></tr></tbody></table></code></div></div>

<p>Ahora, verificamos que mis compañeros hayan firmado mi clave:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/firma<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--list-sig</span> <span class="s2">"Pablo Martín Hidalgo"</span>
pub   rsa3072 2024-12-13 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2026-12-13]
      C2E235639EB3A2A420828C9DED45D8BE85D4DB1A
uid        <span class="o">[</span>  absoluta <span class="o">]</span> Pablo Martín Hidalgo &lt;pmartinhidalgo19@gmail.com&gt;
sig 3        ED45D8BE85D4DB1A 2024-12-13  Pablo Martín Hidalgo &lt;pmartinhidalgo19@gmail.com&gt;
sig          1B80812C7BB9EA86 2024-12-18  Andrés Morales González &lt;asirandyglez@gmail.com&gt;
sig          9E7BEEE532BE0469 2024-12-18  Alejandro Liáñez Frutos &lt;alejandroliafru@gmail.com&gt;
sig          F78DAA71DB72B640 2024-12-18  jose antonio canalo gonzalez &lt;joseantoniocgonzalez83@gmail.com&gt;
sub   rsa3072 2024-12-13 <span class="o">[</span>E] <span class="o">[</span>caduca: 2026-12-13]
sig          ED45D8BE85D4DB1A 2024-12-13  Pablo Martín Hidalgo &lt;pmartinhidalgo19@gmail.com&gt;
</pre></td></tr></tbody></table></code></div></div>

<p>Y como vemos a continuación:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--list-keys</span>
gpg: comprobando base de datos de confianza
gpg: marginals needed: 3  completes needed: 1  trust model: pgp
gpg: nivel: 0  validez:   1  firmada:   3  confianza: 0-, 0q, 0n, 0m, 0f, 1u
gpg: nivel: 1  validez:   3  firmada:   0  confianza: 3-, 0q, 0n, 0m, 0f, 0u
gpg: siguiente comprobación de base de datos de confianza el: 2025-12-18
/home/pavlo/.gnupg/pubring.kbx
<span class="nt">------------------------------</span>
pub   rsa3072 2024-12-13 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2026-12-13]
      C2E235639EB3A2A420828C9DED45D8BE85D4DB1A
uid        <span class="o">[</span>  absoluta <span class="o">]</span> Pablo Martín Hidalgo &lt;pmartinhidalgo19@gmail.com&gt;
sub   rsa3072 2024-12-13 <span class="o">[</span>E] <span class="o">[</span>caduca: 2026-12-13]

pub   rsa3072 2024-12-12 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2026-12-12]
      B39722468D0599C3B62F9AEA9E7BEEE532BE0469
uid        <span class="o">[</span>   total   <span class="o">]</span> Alejandro Liáñez Frutos &lt;alejandroliafru@gmail.com&gt;
sub   rsa3072 2024-12-12 <span class="o">[</span>E] <span class="o">[</span>caduca: 2026-12-12]

pub   rsa3072 2024-12-16 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2026-12-16]
      B7E822D8FB45BD8BAF2F31561B80812C7BB9EA86
uid        <span class="o">[</span>   total   <span class="o">]</span> Andrés Morales González &lt;asirandyglez@gmail.com&gt;
sub   rsa3072 2024-12-16 <span class="o">[</span>E] <span class="o">[</span>caduca: 2026-12-16]

pub   rsa4096 2024-12-18 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2025-12-18]
      7E7ECEAC3D3DF6FDAF903497F78DAA71DB72B640
uid        <span class="o">[</span>   total   <span class="o">]</span> jose antonio canalo gonzalez &lt;joseantoniocgonzalez83@gmail.com&gt;
sub   rsa4096 2024-12-18 <span class="o">[</span>E] <span class="o">[</span>caduca: 2025-12-18]
</pre></td></tr></tbody></table></code></div></div>

<p>Todas las claves han sido ya firmadas (es posible que nos haya pedido la frase de paso de nuestra clave privada a la hora de llevar a cabo el proceso de firmado), su validez ha cambiado de desconocida a total, por lo que en caso de querer encriptar con dichas claves públicas o comprobar firmas, no se nos mostrará el mensaje de advertencia.</p>

<p>Podemos verificar que todas las claves se encuentran firmadas por todos, por lo que todos hemos validado las claves de todos.</p>

<h3 id="comprueba-que-ya-puedes-verificar-sin-problemas-una-firma-recibida-por-una-persona-en-la-que-confías"><span class="me-2">Comprueba que ya puedes verificar sin “problemas” una firma recibida por una persona en la que confías.</span><a href="#comprueba-que-ya-puedes-verificar-sin-problemas-una-firma-recibida-por-una-persona-en-la-que-confías" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Como podemos observar, el documento firmado anteriormente ya nos muestra el mensaje de que la firma es correcta:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--verify</span> documento.txt.sig 
gpg: asumiendo que los datos firmados están en <span class="s1">'documento.txt'</span>
gpg: Firmado el mié 18 dic 2024 18:42:03 CET
gpg:                usando RSA clave 7E7ECEAC3D3DF6FDAF903497F78DAA71DB72B640
gpg: Firma correcta de <span class="s2">"jose antonio canalo gonzalez &lt;joseantoniocgonzalez83@gmail.com&gt;"</span> <span class="o">[</span>total]
</pre></td></tr></tbody></table></code></div></div>

<h3 id="comprueba-que-puedes-verificar-con-confianza-una-firma-de-una-persona-en-las-que-no-confías-pero-sin-embargo-si-confía-otra-persona-en-la-que-tu-tienes-confianza-total"><span class="me-2">Comprueba que puedes verificar con confianza una firma de una persona en las que no confías, pero sin embargo si confía otra persona en la que tu tienes confianza total.</span><a href="#comprueba-que-puedes-verificar-con-confianza-una-firma-de-una-persona-en-las-que-no-confías-pero-sin-embargo-si-confía-otra-persona-en-la-que-tu-tienes-confianza-total" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>El primer paso es asignar un nivel de confianza absoluta a la clave de una persona (Andrés Morales González en este caso), bajo el supuesto de que verificará correctamente las claves de otros usuarios. Esto se realiza con los comandos:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/firma<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--edit-key</span> <span class="s2">"Andrés Morales González"</span>
gpg <span class="o">(</span>GnuPG<span class="o">)</span> 2.2.40<span class="p">;</span> Copyright <span class="o">(</span>C<span class="o">)</span> 2022 g10 Code GmbH
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.


pub  rsa3072/1B80812C7BB9EA86
     creado: 2024-12-16  caduca: 2026-12-16  uso: SC  
     confianza: desconocido   validez: total
sub  rsa3072/31278448B2A4EFCA
     creado: 2024-12-16  caduca: 2026-12-16  uso: E   
<span class="o">[</span>   total   <span class="o">]</span> <span class="o">(</span>1<span class="o">)</span><span class="nb">.</span> Andrés Morales González &lt;asirandyglez@gmail.com&gt;

gpg&gt; trust
pub  rsa3072/1B80812C7BB9EA86
     creado: 2024-12-16  caduca: 2026-12-16  uso: SC  
     confianza: desconocido   validez: total
sub  rsa3072/31278448B2A4EFCA
     creado: 2024-12-16  caduca: 2026-12-16  uso: E   
<span class="o">[</span>   total   <span class="o">]</span> <span class="o">(</span>1<span class="o">)</span><span class="nb">.</span> Andrés Morales González &lt;asirandyglez@gmail.com&gt;

Por favor, decida su nivel de confianza en que este usuario
verifique correctamente las claves de otros usuarios <span class="o">(</span>mirando
pasaportes, comprobando huellas dactilares en diferentes fuentes...<span class="o">)</span>


  1 <span class="o">=</span> No lo sé o prefiero no decirlo
  2 <span class="o">=</span> NO tengo confianza
  3 <span class="o">=</span> Confío un poco
  4 <span class="o">=</span> Confío totalmente
  5 <span class="o">=</span> confío absolutamente
  m <span class="o">=</span> volver al menú principal

¿Su decisión? 5
¿De verdad quiere asignar absoluta confianza a esta clave? <span class="o">(</span>s/N<span class="o">)</span> s

pub  rsa3072/1B80812C7BB9EA86
     creado: 2024-12-16  caduca: 2026-12-16  uso: SC  
     confianza: absoluta      validez: total
sub  rsa3072/31278448B2A4EFCA
     creado: 2024-12-16  caduca: 2026-12-16  uso: E   
<span class="o">[</span>   total   <span class="o">]</span> <span class="o">(</span>1<span class="o">)</span><span class="nb">.</span> Andrés Morales González &lt;asirandyglez@gmail.com&gt;
Ten en cuenta que la validez de clave mostrada no es necesariamente
correcta a menos de que reinicies el programa.

gpg&gt; quit
</pre></td></tr></tbody></table></code></div></div>

<p>Seleccionamos el nivel 5 (confianza absoluta) y confirmamos la acción. Esto marca la clave como confiable para firmar otras claves, lo que permite delegar la validación.</p>

<p>Luego, importamos la clave pública del firmante final, en este caso Juan Antonio Pineda Amador, utilizando su identificador:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/firma<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--keyserver</span> keyserver.ubuntu.com <span class="nt">--recv-keys</span> d30d0b7e734fcf74
gpg: clave D30D0B7E734FCF74: clave pública <span class="s2">"Juan Antonio Pineda Amador &lt;juanantpiama@gmail.com&gt;"</span> importada
gpg: Cantidad total procesada: 1
gpg:               importadas: 1
</pre></td></tr></tbody></table></code></div></div>

<p>Esto descarga e importa la clave pública al anillo de claves.</p>

<p>Luego, importamos una versión de la clave firmada por alguien en quien confío (como Andrés Morales González):</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/firma<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--import</span> clave-firmada-pablo.asc 
gpg: clave ED45D8BE85D4DB1A: <span class="s2">"Pablo Martín Hidalgo &lt;pmartinhidalgo19@gmail.com&gt;"</span> 1 firma nueva
gpg: Cantidad total procesada: 1
gpg:         nuevas firmas: 1
gpg: marginals needed: 3  completes needed: 1  trust model: pgp
gpg: nivel: 0  validez:   2  firmada:   2  confianza: 0-, 0q, 0n, 0m, 0f, 2u
gpg: nivel: 1  validez:   2  firmada:   0  confianza: 2-, 0q, 0n, 0m, 0f, 0u
gpg: siguiente comprobación de base de datos de confianza el: 2025-12-18
</pre></td></tr></tbody></table></code></div></div>

<p>Por último damos nuestra confianza absoluta en Juan Antonio Pineda:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/firma<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--edit-key</span> <span class="s2">"Juan Antonio Pineda Amador"</span>
gpg <span class="o">(</span>GnuPG<span class="o">)</span> 2.2.40<span class="p">;</span> Copyright <span class="o">(</span>C<span class="o">)</span> 2022 g10 Code GmbH
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.


pub  rsa3072/D30D0B7E734FCF74
     creado: 2024-12-13  caduca: 2026-12-13  uso: SC  
     confianza: desconocido   validez: desconocido
sub  rsa3072/BC028BCC730037FF
     creado: 2024-12-13  caduca: 2026-12-13  uso: E   
<span class="o">[</span>desconocida] <span class="o">(</span>1<span class="o">)</span><span class="nb">.</span> Juan Antonio Pineda Amador &lt;juanantpiama@gmail.com&gt;

gpg&gt; trust
pub  rsa3072/D30D0B7E734FCF74
     creado: 2024-12-13  caduca: 2026-12-13  uso: SC  
     confianza: desconocido   validez: desconocido
sub  rsa3072/BC028BCC730037FF
     creado: 2024-12-13  caduca: 2026-12-13  uso: E   
<span class="o">[</span>desconocida] <span class="o">(</span>1<span class="o">)</span><span class="nb">.</span> Juan Antonio Pineda Amador &lt;juanantpiama@gmail.com&gt;

Por favor, decida su nivel de confianza en que este usuario
verifique correctamente las claves de otros usuarios <span class="o">(</span>mirando
pasaportes, comprobando huellas dactilares en diferentes fuentes...<span class="o">)</span>


  1 <span class="o">=</span> No lo sé o prefiero no decirlo
  2 <span class="o">=</span> NO tengo confianza
  3 <span class="o">=</span> Confío un poco
  4 <span class="o">=</span> Confío totalmente
  5 <span class="o">=</span> confío absolutamente
  m <span class="o">=</span> volver al menú principal

¿Su decisión? 5
¿De verdad quiere asignar absoluta confianza a esta clave? <span class="o">(</span>s/N<span class="o">)</span> s

pub  rsa3072/D30D0B7E734FCF74
     creado: 2024-12-13  caduca: 2026-12-13  uso: SC  
     confianza: absoluta      validez: desconocido
sub  rsa3072/BC028BCC730037FF
     creado: 2024-12-13  caduca: 2026-12-13  uso: E   
<span class="o">[</span>desconocida] <span class="o">(</span>1<span class="o">)</span><span class="nb">.</span> Juan Antonio Pineda Amador &lt;juanantpiama@gmail.com&gt;
Ten en cuenta que la validez de clave mostrada no es necesariamente
correcta a menos de que reinicies el programa.

gpg&gt; quit
</pre></td></tr></tbody></table></code></div></div>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/firma<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--list-sig</span>
gpg: comprobando base de datos de confianza
gpg: marginals needed: 3  completes needed: 1  trust model: pgp
gpg: nivel: 0  validez:   3  firmada:   2  confianza: 0-, 0q, 0n, 0m, 0f, 3u
gpg: nivel: 1  validez:   2  firmada:   0  confianza: 2-, 0q, 0n, 0m, 0f, 0u
gpg: siguiente comprobación de base de datos de confianza el: 2025-12-18
/home/pavlo/.gnupg/pubring.kbx
<span class="nt">------------------------------</span>
pub   rsa3072 2024-12-13 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2026-12-13]
      C2E235639EB3A2A420828C9DED45D8BE85D4DB1A
uid        <span class="o">[</span>  absoluta <span class="o">]</span> Pablo Martín Hidalgo &lt;pmartinhidalgo19@gmail.com&gt;
sig 3        ED45D8BE85D4DB1A 2024-12-13  Pablo Martín Hidalgo &lt;pmartinhidalgo19@gmail.com&gt;
sig          1B80812C7BB9EA86 2024-12-18  Andrés Morales González &lt;asirandyglez@gmail.com&gt;
sig          9E7BEEE532BE0469 2024-12-18  Alejandro Liáñez Frutos &lt;alejandroliafru@gmail.com&gt;
sig          F78DAA71DB72B640 2024-12-18  jose antonio canalo gonzalez &lt;joseantoniocgonzalez83@gmail.com&gt;
sig          D30D0B7E734FCF74 2024-12-19  Juan Antonio Pineda Amador &lt;juanantpiama@gmail.com&gt;
sub   rsa3072 2024-12-13 <span class="o">[</span>E] <span class="o">[</span>caduca: 2026-12-13]
sig          ED45D8BE85D4DB1A 2024-12-13  Pablo Martín Hidalgo &lt;pmartinhidalgo19@gmail.com&gt;

pub   rsa3072 2024-12-12 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2026-12-12]
      B39722468D0599C3B62F9AEA9E7BEEE532BE0469
uid        <span class="o">[</span>   total   <span class="o">]</span> Alejandro Liáñez Frutos &lt;alejandroliafru@gmail.com&gt;
sig 3        9E7BEEE532BE0469 2024-12-12  Alejandro Liáñez Frutos &lt;alejandroliafru@gmail.com&gt;
sig          1B80812C7BB9EA86 2024-12-17  Andrés Morales González &lt;asirandyglez@gmail.com&gt;
sig          EB11F07AEE22B444 2024-12-18  <span class="o">[</span>ID de usuario no encontrado]
sig          ED45D8BE85D4DB1A 2024-12-18  Pablo Martín Hidalgo &lt;pmartinhidalgo19@gmail.com&gt;
sub   rsa3072 2024-12-12 <span class="o">[</span>E] <span class="o">[</span>caduca: 2026-12-12]
sig          9E7BEEE532BE0469 2024-12-12  Alejandro Liáñez Frutos &lt;alejandroliafru@gmail.com&gt;

pub   rsa3072 2024-12-16 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2026-12-16]
      B7E822D8FB45BD8BAF2F31561B80812C7BB9EA86
uid        <span class="o">[</span>  absoluta <span class="o">]</span> Andrés Morales González &lt;asirandyglez@gmail.com&gt;
sig 3        1B80812C7BB9EA86 2024-12-16  Andrés Morales González &lt;asirandyglez@gmail.com&gt;
sig          ED45D8BE85D4DB1A 2024-12-18  Pablo Martín Hidalgo &lt;pmartinhidalgo19@gmail.com&gt;
sub   rsa3072 2024-12-16 <span class="o">[</span>E] <span class="o">[</span>caduca: 2026-12-16]
sig          1B80812C7BB9EA86 2024-12-16  Andrés Morales González &lt;asirandyglez@gmail.com&gt;

pub   rsa4096 2024-12-18 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2025-12-18]
      7E7ECEAC3D3DF6FDAF903497F78DAA71DB72B640
uid        <span class="o">[</span>   total   <span class="o">]</span> jose antonio canalo gonzalez &lt;joseantoniocgonzalez83@gmail.com&gt;
sig 3        F78DAA71DB72B640 2024-12-18  jose antonio canalo gonzalez &lt;joseantoniocgonzalez83@gmail.com&gt;
sig          ED45D8BE85D4DB1A 2024-12-18  Pablo Martín Hidalgo &lt;pmartinhidalgo19@gmail.com&gt;
sub   rsa4096 2024-12-18 <span class="o">[</span>E] <span class="o">[</span>caduca: 2025-12-18]
sig          F78DAA71DB72B640 2024-12-18  jose antonio canalo gonzalez &lt;joseantoniocgonzalez83@gmail.com&gt;

pub   rsa3072 2023-02-22 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2025-02-21]
      D6E21A8B6ED6E8EF9F7CE81686F55C1E2DA53D65
uid        <span class="o">[</span>desconocida] Raúl Ruiz &lt;raulpruebas21@gmail.com&gt;
sig 3        86F55C1E2DA53D65 2023-02-22  Raúl Ruiz &lt;raulpruebas21@gmail.com&gt;
sub   rsa3072 2023-02-22 <span class="o">[</span>E] <span class="o">[</span>caduca: 2025-02-21]
sig          86F55C1E2DA53D65 2023-02-22  Raúl Ruiz &lt;raulpruebas21@gmail.com&gt;

pub   rsa3072 2024-12-13 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2026-12-13]
      97AAB306BAF9F7A0600C9F7CD30D0B7E734FCF74
uid        <span class="o">[</span>  absoluta <span class="o">]</span> Juan Antonio Pineda Amador &lt;juanantpiama@gmail.com&gt;
sig 3        D30D0B7E734FCF74 2024-12-13  Juan Antonio Pineda Amador &lt;juanantpiama@gmail.com&gt;
sub   rsa3072 2024-12-13 <span class="o">[</span>E] <span class="o">[</span>caduca: 2026-12-13]
sig          D30D0B7E734FCF74 2024-12-13  Juan Antonio Pineda Amador &lt;juanantpiama@gmail.com&gt;
</pre></td></tr></tbody></table></code></div></div>

<p>Con ambas claves presentes (la del intermediario y la del firmante final), verificamos el archivo firmado y el archivo original 
para comprobar su autenticidad:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/firma<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--verify</span> pinedadocumento.txt.sig pinedadocumento.txt
gpg: Firmado el dom 15 dic 2024 18:36:36 CET
gpg:                usando RSA clave 97AAB306BAF9F7A0600C9F7CD30D0B7E734FCF74
gpg: Firma correcta de <span class="s2">"Juan Antonio Pineda Amador &lt;juanantpiama@gmail.com&gt;"</span> <span class="o">[</span>absoluta]
</pre></td></tr></tbody></table></code></div></div>

<p>Y como vemos el sistema confirma la firma.</p>

<h2 id="tarea-2-correo-seguro-con-evolutionthunderbird"><span class="me-2">Tarea 2: Correo seguro con evolution/thunderbird</span><a href="#tarea-2-correo-seguro-con-evolutionthunderbird" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Ahora vamos a configurar nuestro cliente de correo electrónico para poder mandar correos cifrados, para ello:</p>

<h3 id="configura-el-cliente-de-correo-evolution-con-tu-cuenta-de-correo-habitual"><span class="me-2">Configura el cliente de correo evolution con tu cuenta de correo habitual</span><a href="#configura-el-cliente-de-correo-evolution-con-tu-cuenta-de-correo-habitual" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Para este apartado lo que haremos será instalar <strong>Thunderbird</strong> con el siguiente comando:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span><span class="nb">sudo </span>apt <span class="nb">install </span>thunderbird-l10n-es-es
</pre></td></tr></tbody></table></code></div></div>

<p>Una vez instalado ejecutamos Thunderbird y rellenamos los campos:</p>

<p><a href="/assets/img/posts/integridad/thunderbird.png" class="popup img-link  shimmer"><img src="/assets/img/posts/integridad/thunderbird.png" alt="image" loading="lazy"></a></p>

<p>Después de hacer la verificación en dos pasos ya nos dejará entrar sin ningún problema:</p>

<p><a href="/assets/img/posts/integridad/thunderbird2.png" class="popup img-link  shimmer"><img src="/assets/img/posts/integridad/thunderbird2.png" alt="image" loading="lazy"></a></p>

<h3 id="añade-a-la-cuenta-las-opciones-de-seguridad-para-poder-enviar-correos-firmados-con-tu-clave-privada-o-cifrar-los-mensajes-para-otros-destinatarios"><span class="me-2">Añade a la cuenta las opciones de seguridad para poder enviar correos firmados con tu clave privada o cifrar los mensajes para otros destinatarios</span><a href="#añade-a-la-cuenta-las-opciones-de-seguridad-para-poder-enviar-correos-firmados-con-tu-clave-privada-o-cifrar-los-mensajes-para-otros-destinatarios" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Para este apartado debemos utilizar la clave privada, por lo que primero debemos listarla:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/firma<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--list-secret-keys</span>
/home/pavlo/.gnupg/pubring.kbx
<span class="nt">------------------------------</span>
sec   rsa3072 2024-12-13 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2026-12-13]
      C2E235639EB3A2A420828C9DED45D8BE85D4DB1A
uid        <span class="o">[</span>  absoluta <span class="o">]</span> Pablo Martín Hidalgo &lt;pmartinhidalgo19@gmail.com&gt;
ssb   rsa3072 2024-12-13 <span class="o">[</span>E] <span class="o">[</span>caduca: 2026-12-13]
</pre></td></tr></tbody></table></code></div></div>

<p>Ahora, utilizando el ID de nuestra clave, debemos exportarla en un fichero para más tarde configurarlo en Thunderbird:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/firma<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--export-secret-keys</span> <span class="nt">--armor</span> C2E235639EB3A2A420828C9DED45D8BE85D4DB1A <span class="o">&gt;</span> clave-thunderbird.asc
</pre></td></tr></tbody></table></code></div></div>

<p>Posiblemente nos pida la frase de paso, la introducimos y ya debería generarse el fichero:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/firma<span class="o">()</span><span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span> | <span class="nb">grep</span> <span class="s1">'clave'</span>
<span class="nt">-rw-r--r--</span> 1 pavlo pavlo 7187 dic 19 11:57 clave-thunderbird.asc
</pre></td></tr></tbody></table></code></div></div>

<p>Seguidamente, debemos dirigirnos a la aplicación de correos e importar la clave que acabamos de crear. Para ello nos dirigimos a <strong>Ajustes</strong> » <strong>Configuración de la cuenta</strong> » <strong>Cifrado de extremo a extremo</strong>, le damos a añadir clave y seleccionamos la creada anteriormente:</p>

<p><a href="/assets/img/posts/integridad/thunderbird3.png" class="popup img-link  shimmer"><img src="/assets/img/posts/integridad/thunderbird3.png" alt="image" loading="lazy"></a></p>

<p>Y como vemos ya se ha importado correctamente la clave:</p>

<p><a href="/assets/img/posts/integridad/thunderbird4.png" class="popup img-link  shimmer"><img src="/assets/img/posts/integridad/thunderbird4.png" alt="image" loading="lazy"></a></p>

<h3 id="envía-y-recibe-varios-mensajes-con-tus-compañeros-y-comprueba-el-funcionamiento-adecuado-de-gpg"><span class="me-2">Envía y recibe varios mensajes con tus compañeros y comprueba el funcionamiento adecuado de GPG</span><a href="#envía-y-recibe-varios-mensajes-con-tus-compañeros-y-comprueba-el-funcionamiento-adecuado-de-gpg" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Para esta prueba, le he mandado un correo a Andrés Morales (asirandyglez@gmail.com) con su clave pública la cual me ha pasado:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/firma<span class="o">()</span><span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span>
total 28
<span class="nt">-rw-r--r--</span> 1 pavlo pavlo 4256 dic 19 12:10 andy-and1.asc
<span class="nt">-rw-r--r--</span> 1 pavlo pavlo 7187 dic 19 11:57 clave-thunderbird.asc
<span class="nt">-rw-r--r--</span> 1 pavlo pavlo 3244 dic 18 19:37 pablo_firmada.asc
<span class="nt">-rw-r--r--</span> 1 pavlo pavlo 3663 dic 18 18:42 pmh19.asc
<span class="nt">-rw-r--r--</span> 1 pavlo pavlo 3069 dic 18 17:44 pmh.asc
</pre></td></tr></tbody></table></code></div></div>

<p>Por lo tanto, enviamos un mensaje y seleccionamos el fichero de su clave para que se firme el correo:</p>

<p><a href="/assets/img/posts/integridad/thunderbird5.png" class="popup img-link  shimmer"><img src="/assets/img/posts/integridad/thunderbird5.png" alt="image" loading="lazy"></a></p>

<p>Por otro lado, Andrés me enviará un correo firmado con mi clave pública:</p>

<p><a href="/assets/img/posts/integridad/thunderbird6.png" class="popup img-link  shimmer"><img src="/assets/img/posts/integridad/thunderbird6.png" alt="image" loading="lazy"></a></p>

<p>Y como podemos observar, desde gmail no nos dejará ver el contenido:</p>

<p><a href="/assets/img/posts/integridad/thunderbird7.png" class="popup img-link  shimmer"><img src="/assets/img/posts/integridad/thunderbird7.png" alt="image" loading="lazy"></a></p>

<h3 id="enviar-un-correo-electrónico-al-profesor-con-un-mensaje-firmado-por-vosotros-y-que-solo-pueda-descifrar-yo"><span class="me-2">Enviar un correo electrónico al profesor con un mensaje firmado por vosotros y que solo pueda descifrar yo.</span><a href="#enviar-un-correo-electrónico-al-profesor-con-un-mensaje-firmado-por-vosotros-y-que-solo-pueda-descifrar-yo" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Para la realización de este apartado extra debemos importar la clave del profesor Raúl en nuestro sistema. Para ello nos dirigimos a la página <a href="https://dit.gonzalonazareno.org/redmine/projects/asir2/wiki/Claves_p%C3%BAblicas_PGP_2024-2025">wiki</a> y nos descargamos su clave:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/firma<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--keyserver</span> keyserver.ubuntu.com <span class="nt">--recv-keys</span> 86f55c1e2da53d65
gpg: clave 86F55C1E2DA53D65: clave pública <span class="s2">"Raúl Ruiz &lt;raulpruebas21@gmail.com&gt;"</span> importada
gpg: Cantidad total procesada: 1
gpg:               importadas: 1
</pre></td></tr></tbody></table></code></div></div>

<p>Como podemos observar, su clave se ha importado correctamente:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/firma<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--list-keys</span> 
/home/pavlo/.gnupg/pubring.kbx
<span class="nt">------------------------------</span>
pub   rsa3072 2024-12-13 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2026-12-13]
      C2E235639EB3A2A420828C9DED45D8BE85D4DB1A
uid        <span class="o">[</span>  absoluta <span class="o">]</span> Pablo Martín Hidalgo &lt;pmartinhidalgo19@gmail.com&gt;
sub   rsa3072 2024-12-13 <span class="o">[</span>E] <span class="o">[</span>caduca: 2026-12-13]

pub   rsa3072 2024-12-12 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2026-12-12]
      B39722468D0599C3B62F9AEA9E7BEEE532BE0469
uid        <span class="o">[</span>   total   <span class="o">]</span> Alejandro Liáñez Frutos &lt;alejandroliafru@gmail.com&gt;
sub   rsa3072 2024-12-12 <span class="o">[</span>E] <span class="o">[</span>caduca: 2026-12-12]

pub   rsa3072 2024-12-16 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2026-12-16]
      B7E822D8FB45BD8BAF2F31561B80812C7BB9EA86
uid        <span class="o">[</span>   total   <span class="o">]</span> Andrés Morales González &lt;asirandyglez@gmail.com&gt;
sub   rsa3072 2024-12-16 <span class="o">[</span>E] <span class="o">[</span>caduca: 2026-12-16]

pub   rsa4096 2024-12-18 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2025-12-18]
      7E7ECEAC3D3DF6FDAF903497F78DAA71DB72B640
uid        <span class="o">[</span>   total   <span class="o">]</span> jose antonio canalo gonzalez &lt;joseantoniocgonzalez83@gmail.com&gt;
sub   rsa4096 2024-12-18 <span class="o">[</span>E] <span class="o">[</span>caduca: 2025-12-18]

pub   rsa3072 2023-02-22 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2025-02-21]
      D6E21A8B6ED6E8EF9F7CE81686F55C1E2DA53D65
uid        <span class="o">[</span>desconocida] Raúl Ruiz &lt;raulpruebas21@gmail.com&gt;
sub   rsa3072 2023-02-22 <span class="o">[</span>E] <span class="o">[</span>caduca: 2025-02-21]
</pre></td></tr></tbody></table></code></div></div>

<p>Por lo que ahora debemos hacer lo mismo que antes, exportar la clave en un fichero .asc y añadirla en Thunderbird:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/firma<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--export</span> <span class="nt">--armor</span> 86f55c1e2da53d65 <span class="o">&gt;</span> clave-raul.asc
</pre></td></tr></tbody></table></code></div></div>

<p>Vamos a enviar un nuevo correo a Raúl a su correo y debemos darle arriba a la izquierda a “Cifrar”. Una vez seleccionado esta opción nos saldrá un mensaje abajo en amarillo, en donde debemos darle a “Resolver”. Ahí importamos la clave de Raúl y ya estaría:</p>

<p><a href="/assets/img/posts/integridad/thunderbird8.png" class="popup img-link  shimmer"><img src="/assets/img/posts/integridad/thunderbird8.png" alt="image" loading="lazy"></a></p>

<p><a href="/assets/img/posts/integridad/thunderbird9.png" class="popup img-link  shimmer"><img src="/assets/img/posts/integridad/thunderbird9.png" alt="image" loading="lazy"></a></p>

<p>Y como podemos comprobar a continuación, el correo ha sido enviado con <strong>OpenGPG</strong>:</p>

<p><a href="/assets/img/posts/integridad/thunderbird10.png" class="popup img-link  shimmer"><img src="/assets/img/posts/integridad/thunderbird10.png" alt="image" loading="lazy"></a></p>

<h2 id="tarea-3-integridad-de-ficheros"><span class="me-2">Tarea 3: Integridad de ficheros</span><a href="#tarea-3-integridad-de-ficheros" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Vamos a descargarnos la ISO de debian, y posteriormente vamos a comprobar su integridad.</p>

<p>Puedes encontrar la ISO en la dirección: https://cdimage.debian.org/debian-cd/current/amd64/iso-cd/.</p>

<h3 id="para-validar-el-contenido-de-la-imagen-cd-solo-asegúrese-de-usar-la-herramienta-apropiada-para-sumas-de-verificación-para-cada-versión-publicada-existen-archivos-de-suma-de-comprobación-con-algoritmos-fuertes-sha256-y-sha512-debería-usar-las-herramientas-sha256sum-o-sha512sum-para-trabajar-con-ellos"><span class="me-2">Para validar el contenido de la imagen CD, solo asegúrese de usar la herramienta apropiada para sumas de verificación. Para cada versión publicada existen archivos de suma de comprobación con algoritmos fuertes (SHA256 y SHA512); debería usar las herramientas sha256sum o sha512sum para trabajar con ellos</span><a href="#para-validar-el-contenido-de-la-imagen-cd-solo-asegúrese-de-usar-la-herramienta-apropiada-para-sumas-de-verificación-para-cada-versión-publicada-existen-archivos-de-suma-de-comprobación-con-algoritmos-fuertes-sha256-y-sha512-debería-usar-las-herramientas-sha256sum-o-sha512sum-para-trabajar-con-ellos" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Pues lo primero que debemos hacer es descargar la ISO de Debian 12 y el fichero de suma de comprobación(SHA512):</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/integridad<span class="o">()</span><span class="nv">$ </span>wget https://cdimage.debian.org/debian-cd/current/amd64/iso-cd/debian-12.8.0-amd64-netinst.iso
pavlo@debian:~/integridad<span class="o">()</span><span class="nv">$ </span>wget https://cdimage.debian.org/debian-cd/current/amd64/iso-cd/SHA512SUMS
</pre></td></tr></tbody></table></code></div></div>

<p>Utilizamos la herramienta sha512sum para generar el hash de la imagen ISO descargada y comparar el resultado con el hash proporcionado en los archivos de suma de comprobación.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/integridad<span class="o">()</span><span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-l</span>
total 646148
<span class="nt">-rw-r--r--</span> 1 pavlo pavlo 661651456 nov  9 13:46 debian-12.8.0-amd64-netinst.iso
<span class="nt">-rw-r--r--</span> 1 pavlo pavlo       494 nov  9 17:34 SHA512SUMS
pavlo@debian:~/integridad<span class="o">()</span><span class="nv">$ </span><span class="nb">sha512sum</span> <span class="nt">--check</span> <span class="nt">--ignore-missing</span> SHA512SUMS
debian-12.8.0-amd64-netinst.iso: La suma coincide
</pre></td></tr></tbody></table></code></div></div>

<p>Y como vemos el contenido de la imagen CD coincide.</p>

<h3 id="verifica-que-el-contenido-del-hash-que-has-utilizado-no-ha-sido-manipulado-usando-la-firma-digital-que-encontrarás-en-el-repositorio-puedes-encontrar-una-guía-para-realizarlo-en-este-artículo-how-to-verify-an-authenticity-of-downloaded-debian-iso-images"><span class="me-2">Verifica que el contenido del hash que has utilizado no ha sido manipulado, usando la firma digital que encontrarás en el repositorio. Puedes encontrar una guía para realizarlo en este artículo: <a href="https://linuxconfig.org/how-to-verify-an-authenticity-of-downloaded-debian-iso-images">How to verify an authenticity of downloaded Debian ISO images</a></span><a href="#verifica-que-el-contenido-del-hash-que-has-utilizado-no-ha-sido-manipulado-usando-la-firma-digital-que-encontrarás-en-el-repositorio-puedes-encontrar-una-guía-para-realizarlo-en-este-artículo-how-to-verify-an-authenticity-of-downloaded-debian-iso-images" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Este paso verifica que el archivo de suma de comprobación no ha sido manipulado y que está firmado por una clave confiable. Por lo que debemos descargarnos la firma digital:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/integridad<span class="o">()</span><span class="nv">$ </span>wget https://cdimage.debian.org/debian-cd/current/amd64/iso-cd/SHA512SUMS.sign
</pre></td></tr></tbody></table></code></div></div>

<p>Verificamos la firma y como vemos a continuación nos saldrá un mensaje de error de que es imposible comprobar la firma:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/integridad<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--verify</span> SHA512SUMS.sign SHA512SUMS
gpg: Firmado el sáb 09 nov 2024 17:35:02 CET
gpg:                usando RSA clave DF9B9C49EAA9298432589D76DA87E80D6294BE9B
gpg: Imposible comprobar la firma: No hay clave pública
</pre></td></tr></tbody></table></code></div></div>

<p>Esto se debe a que no tenemos importada la clave pública de la persona que firmó dicho fichero, por lo que para solucionar esto debemos importar la clave:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/integridad<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--keyserver</span> keyserver.ubuntu.com <span class="nt">--recv-keys</span> DF9B9C49EAA9298432589D76DA87E80D6294BE9B
gpg: clave DA87E80D6294BE9B: clave pública <span class="s2">"Debian CD signing key &lt;debian-cd@lists.debian.org&gt;"</span> importada
gpg: Cantidad total procesada: 1
gpg:               importadas: 1
</pre></td></tr></tbody></table></code></div></div>

<p>Volvemos a verificar la firma:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>pavlo@debian:~/integridad<span class="o">()</span><span class="nv">$ </span>gpg <span class="nt">--verify</span> SHA512SUMS.sign SHA512SUMS
gpg: Firmado el sáb 09 nov 2024 17:35:02 CET
gpg:                usando RSA clave DF9B9C49EAA9298432589D76DA87E80D6294BE9B
gpg: Firma correcta de <span class="s2">"Debian CD signing key &lt;debian-cd@lists.debian.org&gt;"</span> <span class="o">[</span>desconocido]
gpg: ATENCIÓN: ¡Esta clave no está certificada por una firma de confianza!
gpg:          No hay indicios de que la firma pertenezca al propietario.
Huellas dactilares de la clave primaria: DF9B 9C49 EAA9 2984 3258  9D76 DA87 E80D 6294 BE9B
</pre></td></tr></tbody></table></code></div></div>

<p>Y efectivamente, el hash del fichero resumen coincide con el hash del fichero resumen que Debian ha firmado, por lo que podemos concluir que no ha habido ninguna manipulación y las imágenes ISO están totalmente limpias.</p>

<p>Al no tener validada la clave de Debian nos ha mostrado la advertencia de seguridad, pero eso no tiene nada que ver, pues la firma ha sido correctamente verificada.</p>

<h2 id="tarea-4-integridad-y-autenticidad-apt-secure"><span class="me-2">Tarea 4: Integridad y autenticidad (apt secure)</span><a href="#tarea-4-integridad-y-autenticidad-apt-secure" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>APT Secure es el mecanismo utilizado por Debian para garantizar que los paquetes instalados desde sus repositorios oficiales sean legítimos y no hayan sido modificados. Este sistema utiliza criptografía asimétrica para verificar la autenticidad de los paquetes.</p>

<h3 id="qué-software-utiliza-apt-secure-para-realizar-la-criptografía-asimétrica"><span class="me-2">¿Qué software utiliza apt secure para realizar la criptografía asimétrica?</span><a href="#qué-software-utiliza-apt-secure-para-realizar-la-criptografía-asimétrica" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>APT Secure utiliza GNU Privacy Guard (GPG) para realizar la criptografía asimétrica, firmando digitalmente los paquetes y verificando las firmas de los mismos.</p>

<h3 id="para-que-sirve-el-comando-apt-key-qué-muestra-el-comando-apt-key-list"><span class="me-2">¿Para que sirve el comando <code class="language-plaintext highlighter-rouge">apt-key</code>? ¿Qué muestra el comando <code class="language-plaintext highlighter-rouge">apt-key</code> list?</span><a href="#para-que-sirve-el-comando-apt-key-qué-muestra-el-comando-apt-key-list" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>El comando apt-key es una herramienta que permite gestionar las claves utilizadas por APT para autenticar paquetes, considerando como confiables aquellos paquetes que han sido correctamente autenticados mediante estas claves. Las opciones más comunes son:</p>

<ul>
  <li>
    <p>add: Añade una nueva clave a la lista de claves de confianza desde un archivo que se pasa como parámetro.</p>
  </li>
  <li>
    <p>del: Elimina una clave de la lista de claves de confianza, especificando el fingerprint de la clave como parámetro.</p>
  </li>
  <li>
    <p>export: Muestra la clave a través de la salida estándar, indicando el fingerprint de la misma como parámetro.</p>
  </li>
  <li>
    <p>exportall: Muestra todas las claves de confianza por la salida estándar.</p>
  </li>
  <li>
    <p>list: Muestra todas las claves de confianza.</p>
  </li>
  <li>
    <p>finger: Muestra los fingerprints de todas las claves de confianza.</p>
  </li>
</ul>

<p>Por ejemplo, una salida del comando sería:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span>apt-key list
Warning: apt-key is deprecated. Manage keyring files <span class="k">in </span>trusted.gpg.d instead <span class="o">(</span>see apt-key<span class="o">(</span>8<span class="o">))</span><span class="nb">.</span>
/etc/apt/trusted.gpg
<span class="nt">--------------------</span>
pub   rsa4096 2017-02-22 <span class="o">[</span>SCEA]
      9DC8 5822 9FC7 DD38 854A  E2D8 8D81 803C 0EBF CD88
uid        <span class="o">[</span>desconocida] Docker Release <span class="o">(</span>CE deb<span class="o">)</span> &lt;docker@docker.com&gt;
sub   rsa4096 2017-02-22 <span class="o">[</span>S]

pub   dsa1024 2004-09-12 <span class="o">[</span>SC]
      6302 39CC 130E 1A7F D81A  27B1 4097 6EAF 437D 05B5
uid        <span class="o">[</span>desconocida] Ubuntu Archive Automatic Signing Key &lt;ftpmaster@ubuntu.com&gt;
sub   elg2048 2004-09-12 <span class="o">[</span>E]

pub   rsa4096 2024-05-03 <span class="o">[</span>SC]
      3648 37CF 91E0 7091 0231  C2FE 8219 B3A0 AEF3 D498
uid        <span class="o">[</span>desconocida] Launchpad PPA <span class="k">for </span>elementary OS team

pub   rsa1024 2011-10-01 <span class="o">[</span>SC]
      6C87 69CE DC20 F5E6 6C3B  7D37 BF36 996C 4E1F 8A59
uid        <span class="o">[</span>desconocida] Launchpad PPA <span class="k">for </span>elementary OS team

/etc/apt/trusted.gpg.d/debian-archive-bookworm-automatic.asc
<span class="nt">------------------------------------------------------------</span>
pub   rsa4096 2023-01-21 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2031-01-19]
      B8B8 0B5B 623E AB6A D877  5C45 B7C5 D7D6 3509 47F8
uid        <span class="o">[</span>desconocida] Debian Archive Automatic Signing Key <span class="o">(</span>12/bookworm<span class="o">)</span> &lt;ftpmaster@debian.org&gt;
sub   rsa4096 2023-01-21 <span class="o">[</span>S] <span class="o">[</span>caduca: 2031-01-19]

/etc/apt/trusted.gpg.d/debian-archive-bookworm-security-automatic.asc
<span class="nt">---------------------------------------------------------------------</span>
pub   rsa4096 2023-01-21 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2031-01-19]
      05AB 9034 0C0C 5E79 7F44  A8C8 254C F3B5 AEC0 A8F0
uid        <span class="o">[</span>desconocida] Debian Security Archive Automatic Signing Key <span class="o">(</span>12/bookworm<span class="o">)</span> &lt;ftpmaster@debian.org&gt;
sub   rsa4096 2023-01-21 <span class="o">[</span>S] <span class="o">[</span>caduca: 2031-01-19]

/etc/apt/trusted.gpg.d/debian-archive-bookworm-stable.asc
<span class="nt">---------------------------------------------------------</span>
pub   ed25519 2023-01-23 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2031-01-21]
      4D64 FEC1 19C2 0290 67D6  E791 F8D2 585B 8783 D481
uid        <span class="o">[</span>desconocida] Debian Stable Release Key <span class="o">(</span>12/bookworm<span class="o">)</span> &lt;debian-release@lists.debian.org&gt;

/etc/apt/trusted.gpg.d/debian-archive-bullseye-automatic.asc
<span class="nt">------------------------------------------------------------</span>
pub   rsa4096 2021-01-17 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2029-01-15]
      1F89 983E 0081 FDE0 18F3  CC96 73A4 F27B 8DD4 7936
uid        <span class="o">[</span>desconocida] Debian Archive Automatic Signing Key <span class="o">(</span>11/bullseye<span class="o">)</span> &lt;ftpmaster@debian.org&gt;
sub   rsa4096 2021-01-17 <span class="o">[</span>S] <span class="o">[</span>caduca: 2029-01-15]

/etc/apt/trusted.gpg.d/debian-archive-bullseye-security-automatic.asc
<span class="nt">---------------------------------------------------------------------</span>
pub   rsa4096 2021-01-17 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2029-01-15]
      AC53 0D52 0F2F 3269 F5E9  8313 A484 4904 4AAD 5C5D
uid        <span class="o">[</span>desconocida] Debian Security Archive Automatic Signing Key <span class="o">(</span>11/bullseye<span class="o">)</span> &lt;ftpmaster@debian.org&gt;
sub   rsa4096 2021-01-17 <span class="o">[</span>S] <span class="o">[</span>caduca: 2029-01-15]

/etc/apt/trusted.gpg.d/debian-archive-bullseye-stable.asc
<span class="nt">---------------------------------------------------------</span>
pub   rsa4096 2021-02-13 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2029-02-11]
      A428 5295 FC7B 1A81 6000  62A9 605C 66F0 0D6C 9793
uid        <span class="o">[</span>desconocida] Debian Stable Release Key <span class="o">(</span>11/bullseye<span class="o">)</span> &lt;debian-release@lists.debian.org&gt;

/etc/apt/trusted.gpg.d/debian-archive-buster-automatic.asc
<span class="nt">----------------------------------------------------------</span>
pub   rsa4096 2019-04-14 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2027-04-12]
      80D1 5823 B7FD 1561 F9F7  BCDD DC30 D7C2 3CBB ABEE
uid        <span class="o">[</span>desconocida] Debian Archive Automatic Signing Key <span class="o">(</span>10/buster<span class="o">)</span> &lt;ftpmaster@debian.org&gt;
sub   rsa4096 2019-04-14 <span class="o">[</span>S] <span class="o">[</span>caduca: 2027-04-12]

/etc/apt/trusted.gpg.d/debian-archive-buster-security-automatic.asc
<span class="nt">-------------------------------------------------------------------</span>
pub   rsa4096 2019-04-14 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2027-04-12]
      5E61 B217 265D A980 7A23  C5FF 4DFA B270 CAA9 6DFA
uid        <span class="o">[</span>desconocida] Debian Security Archive Automatic Signing Key <span class="o">(</span>10/buster<span class="o">)</span> &lt;ftpmaster@debian.org&gt;
sub   rsa4096 2019-04-14 <span class="o">[</span>S] <span class="o">[</span>caduca: 2027-04-12]

/etc/apt/trusted.gpg.d/debian-archive-buster-stable.asc
<span class="nt">-------------------------------------------------------</span>
pub   rsa4096 2019-02-05 <span class="o">[</span>SC] <span class="o">[</span>caduca: 2027-02-03]
      6D33 866E DD8F FA41 C014  3AED DCC9 EFBF 77E1 1517
uid        <span class="o">[</span>desconocida] Debian Stable Release Key <span class="o">(</span>10/buster<span class="o">)</span> &lt;debian-release@lists.debian.org&gt;

/etc/apt/trusted.gpg.d/deb-multimedia-keyring.gpg
<span class="nt">-------------------------------------------------</span>
pub   rsa4096 2014-03-05 <span class="o">[</span>SC]
      A401 FF99 368F A1F9 8152  DE75 5C80 8C2B 6555 8117
uid        <span class="o">[</span>desconocida] Christian Marillat &lt;marillat@debian.org&gt;
uid        <span class="o">[</span>desconocida] Christian Marillat &lt;marillat@free.fr&gt;
uid        <span class="o">[</span>desconocida] Christian Marillat &lt;marillat@deb-multimedia.org&gt;
sub   rsa4096 2014-03-05 <span class="o">[</span>E]

/etc/apt/trusted.gpg.d/google-chrome.gpg
<span class="nt">----------------------------------------</span>
pub   rsa4096 2016-04-12 <span class="o">[</span>SC]
      EB4C 1BFD 4F04 2F6D DDCC  EC91 7721 F63B D38B 4796
uid        <span class="o">[</span>desconocida] Google Inc. <span class="o">(</span>Linux Packages Signing Authority<span class="o">)</span> &lt;linux-packages-keymaster@google.com&gt;
sub   rsa4096 2023-02-15 <span class="o">[</span>S] <span class="o">[</span>caduca: 2026-02-14]
sub   rsa4096 2024-01-30 <span class="o">[</span>S] <span class="o">[</span>caduca: 2027-01-29]

/etc/apt/trusted.gpg.d/microsoft.gpg
<span class="nt">------------------------------------</span>
pub   rsa2048 2015-10-28 <span class="o">[</span>SC]
      BC52 8686 B50D 79E3 39D3  721C EB3E 94AD BE12 29CF
uid        <span class="o">[</span>desconocida] Microsoft <span class="o">(</span>Release signing<span class="o">)</span> &lt;gpgsecurity@microsoft.com&gt;
</pre></td></tr></tbody></table></code></div></div>

<h3 id="en-que-fichero-se-guarda-el-anillo-de-claves-que-guarda-la-herramienta-apt-key"><span class="me-2">¿En que fichero se guarda el anillo de claves que guarda la herramienta apt-key?</span><a href="#en-que-fichero-se-guarda-el-anillo-de-claves-que-guarda-la-herramienta-apt-key" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>El anillo de claves utilizado por <code class="language-plaintext highlighter-rouge">apt-key</code> se guarda en el fichero <code class="language-plaintext highlighter-rouge">/etc/apt/trusted.gpg</code> y en cualquier archivo <code class="language-plaintext highlighter-rouge">.gpg</code> dentro de <code class="language-plaintext highlighter-rouge">/etc/apt/trusted.gpg.d/</code>.</p>

<h3 id="qué-contiene-el-archivo-release-de-un-repositorio-de-paquetes-y-el-archivo-releasegpg-puedes-ver-estos-archivos-en-el-repositorio-httpftpdebianorgdebiandistsdebian101-estos-archivos-se-descargan-cuando-hacemos-un-apt-update"><span class="me-2">¿Qué contiene el archivo <code class="language-plaintext highlighter-rouge">Release</code> de un repositorio de paquetes?. ¿Y el archivo <code class="language-plaintext highlighter-rouge">Release.gpg</code>?. Puedes ver estos archivos en el repositorio http://ftp.debian.org/debian/dists/Debian10.1/. Estos archivos se descargan cuando hacemos un <code class="language-plaintext highlighter-rouge">apt update</code>.</span><a href="#qué-contiene-el-archivo-release-de-un-repositorio-de-paquetes-y-el-archivo-releasegpg-puedes-ver-estos-archivos-en-el-repositorio-httpftpdebianorgdebiandistsdebian101-estos-archivos-se-descargan-cuando-hacemos-un-apt-update" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>El archivo <code class="language-plaintext highlighter-rouge">Release</code> contiene información sobre el repositorio, como la versión del sistema operativo, la arquitectura, la lista de componentes (main, contrib, non-free) y otra información relevante. También incluye firmas digitales (hashes criptográficos) para cada archivo de paquete (por ejemplo, Packages y Packages.gz) dentro del repositorio. Estos hashes se utilizan para verificar la integridad de los archivos descargados.</p>

<p>El archivo <code class="language-plaintext highlighter-rouge">Release.gpg</code> contiene la firma digital asociada con el archivo <code class="language-plaintext highlighter-rouge">Release</code>. Esta firma es generada por la entidad que mantiene el repositorio y se utiliza para verificar la autenticidad del archivo <code class="language-plaintext highlighter-rouge">Release</code>. Esta firma digital se verifica durante el proceso de <code class="language-plaintext highlighter-rouge">apt update</code>, asegurando que el archivo <code class="language-plaintext highlighter-rouge">Release</code> no haya sido modificado y que realmente provenga del repositorio oficial.</p>

<h3 id="explica-el-proceso-por-el-cual-el-sistema-nos-asegura-que-los-ficheros-que-estamos-descargando-son-legítimos"><span class="me-2">Explica el proceso por el cual el sistema nos asegura que los ficheros que estamos descargando son legítimos.</span><a href="#explica-el-proceso-por-el-cual-el-sistema-nos-asegura-que-los-ficheros-que-estamos-descargando-son-legítimos" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Este proceso implica el uso de criptografía asimétrica y firmas digitales:</p>

<ul>
  <li>
    <p>Descarga del archivo “Release” y su firma (“Release.gpg”): cuando ejecutamos <code class="language-plaintext highlighter-rouge">apt update</code>, el sistema descarga el archivo <code class="language-plaintext highlighter-rouge">Release</code> y su firma asociada <code class="language-plaintext highlighter-rouge">Release.gpg</code> desde el repositorio Debian o el mirror especificado.</p>
  </li>
  <li>
    <p>Verificación de la firma digital: el archivo <code class="language-plaintext highlighter-rouge">Release.gpg</code> contiene la firma digital generada por la clave privada de la entidad que mantiene el repositorio. Utilizando la clave pública correspondiente a esa clave privada (que generalmente ya está instalada en el sistema), se verifica la autenticidad de la firma digital. Si la verificación falla, el proceso se detendrá, ya que indica que el archivo <code class="language-plaintext highlighter-rouge">Release</code> puede haber sido modificado.</p>
  </li>
  <li>
    <p>Verificación de la integridad del archivo “<code class="language-plaintext highlighter-rouge">Release</code>”: si la firma digital es válida, se procede a verificar la integridad del archivo <code class="language-plaintext highlighter-rouge">Release</code>. El archivo <code class="language-plaintext highlighter-rouge">Release</code> contiene hashes criptográficos (generalmente SHA256) de otros archivos importantes en el repositorio, como <code class="language-plaintext highlighter-rouge">Packages</code> y <code class="language-plaintext highlighter-rouge">Packages.gz</code>. Se recalcula el hash localmente y se compara con los hashes proporcionados en el archivo <code class="language-plaintext highlighter-rouge">Release</code>. Si hay alguna discrepancia, se asume que los archivos pueden haber sido modificados y el proceso se detiene.</p>
  </li>
  <li>
    <p>Descarga de archivos de índice de paquetes (por ejemplo, Packages o Packages.gz): si la verificación de firma y la integridad del archivo <code class="language-plaintext highlighter-rouge">Release</code> son exitosas, el sistema procede a descargar los archivos de índice de paquetes mencionados en el archivo <code class="language-plaintext highlighter-rouge">Release</code>.</p>
  </li>
  <li>
    <p>Verificación de la integridad de los archivos de paquetes: similar al paso anterior, se verifica la integridad de los archivos de paquetes utilizando los hashes proporcionados en los archivos de índice de paquetes.</p>
  </li>
</ul>

<h3 id="añade-de-forma-correcta-el-repositorio-de-virtualbox-añadiendo-la-clave-pública-de-virtualbox-como-se-indica-en-la-documentación"><span class="me-2">Añade de forma correcta el repositorio de virtualbox añadiendo la clave pública de virtualbox como se indica en la <a href="https://www.virtualbox.org/wiki/Linux_Downloads">documentación</a>.</span><a href="#añade-de-forma-correcta-el-repositorio-de-virtualbox-añadiendo-la-clave-pública-de-virtualbox-como-se-indica-en-la-documentación" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>En primer lugar añadimos el repositorio con los siguientes comando:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span><span class="nb">sudo echo</span> <span class="s2">"deb [arch=amd64 signed-by=/usr/share/keyrings/oracle-virtualbox-2016.gpg] https://download.virtualbox.org/virtualbox/debian bookworm contrib"</span> | <span class="nb">sudo tee</span> /etc/apt/sources.list.d/virtualbox.list
</pre></td></tr></tbody></table></code></div></div>

<p>Y ahora descargamos e importamos la clave pública de Oracle con el siguiente comando:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span>wget <span class="nt">-q</span> https://www.virtualbox.org/download/oracle_vbox_2016.asc <span class="nt">-O-</span> | <span class="nb">sudo </span>gpg <span class="nt">--dearmor</span> <span class="nt">-o</span> /usr/share/keyrings/oracle-virtualbox-2016.gpg
</pre></td></tr></tbody></table></code></div></div>

<p>Hacemos un apt update y ya encontramos el repositorio listo para descargar Virtualbox:</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre>pavlo@debian:~<span class="o">()</span><span class="nv">$ </span><span class="nb">sudo </span>apt update
Obj:2 https://deb.nodesource.com/node_20.x nodistro InRelease                                                                                                               
Obj:4 https://dl.google.com/linux/chrome/deb stable InRelease                                                                                                               
Ign:3 https://ppa.launchpad.net/elementary-os/stable/ubuntu focal InRelease                                                                                                 
Obj:1 https://deb-multimedia.org bookworm InRelease                                                                                                                         
Des:8 https://packages.microsoft.com/repos/code stable InRelease <span class="o">[</span>3.590 B]                                                                                        
Obj:5 https://deb.debian.org/debian bookworm InRelease                                                                             
Obj:6 https://security.debian.org/debian-security bookworm-security InRelease   
Des:9 https://download.virtualbox.org/virtualbox/debian bookworm InRelease <span class="o">[</span>4.434 B]
Obj:7 https://deb.debian.org/debian bookworm-updates InRelease                           
Des:10 https://packages.microsoft.com/repos/code stable/main armhf Packages <span class="o">[</span>18,3 kB]
Des:11 https://packages.microsoft.com/repos/code stable/main arm64 Packages <span class="o">[</span>18,2 kB]
Des:12 https://packages.microsoft.com/repos/code stable/main amd64 Packages <span class="o">[</span>18,2 kB]
Ign:3 https://ppa.launchpad.net/elementary-os/stable/ubuntu focal InRelease
Des:13 https://download.virtualbox.org/virtualbox/debian bookworm/contrib amd64 Packages <span class="o">[</span>1.947 B]
Des:14 https://download.virtualbox.org/virtualbox/debian bookworm/contrib amd64 Contents <span class="o">(</span>deb<span class="o">)</span> <span class="o">[</span>4.375 B]
</pre></td></tr></tbody></table></code></div></div>

<h2 id="tarea-5-autentificación-ejemplo-ssh"><span class="me-2">Tarea 5: Autentificación: ejemplo SSH</span><a href="#tarea-5-autentificación-ejemplo-ssh" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="explica-los-pasos-que-se-producen-entre-el-cliente-y-el-servidor-para-que-el-protocolo-cifre-la-información-que-se-transmite-para-qué-se-utiliza-la-criptografía-simétrica-y-la-asimétrica"><span class="me-2">Explica los pasos que se producen entre el cliente y el servidor para que el protocolo cifre la información que se transmite? ¿Para qué se utiliza la criptografía simétrica? ¿Y la asimétrica?</span><a href="#explica-los-pasos-que-se-producen-entre-el-cliente-y-el-servidor-para-que-el-protocolo-cifre-la-información-que-se-transmite-para-qué-se-utiliza-la-criptografía-simétrica-y-la-asimétrica" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>El protocolo SSH utiliza tanto criptografía simétrica como asimétrica para garantizar la seguridad en la comunicación entre el cliente y el servidor. Estos son los pasos que se producen:</p>

<ol>
  <li>
    <p>El cliente inicia la conexión al servidor SSH enviando una solicitud de conexión. Intercambio de identificación y parámetros:</p>
  </li>
  <li>
    <p>El servidor y el cliente intercambian información sobre sus capacidades y parámetros de configuración.</p>
  </li>
  <li>
    <p>Negociación de algoritmos: se realiza una negociación para seleccionar los algoritmos que se utilizarán en la conexión, incluyendo algoritmos para cifrado simétrico, funciones hash, intercambio de claves, etc.</p>
  </li>
  <li>
    <p>Intercambio de claves de sesión (cripografía asimétrica): el cliente y el servidor acuerdan sobre una clave de sesión utilizando criptografía asimétrica. Usualmente, el algoritmo de intercambio de claves utilizado es Diffie-Hellman.</p>
  </li>
  <li>
    <p>Autenticación: en esta fase, se puede realizar la autenticación de las partes. Esto puede involucrar la presentación de credenciales por parte del cliente (como contraseñas o certificados).</p>
  </li>
  <li>
    <p>Generación de la clave de sesión compartida (criptografía simétrica): a partir de la información intercambiada en el paso anterior, ambas partes generan de manera independiente una clave de sesión compartida. Esta clave de sesión será utilizada para cifrar y descifrar los datos durante la sesión.</p>
  </li>
  <li>
    <p>Cifrado de la sesión (criptografía simétrica): a partir de este punto, la conexión SSH utiliza la criptografía simétrica para cifrar los datos durante la transmisión. La clave de sesión compartida se utiliza para este propósito, proporcionando eficiencia y velocidad en el cifrado.</p>
  </li>
  <li>
    <p>Intercambio de mensajes cifrados: Todos los mensajes intercambiados entre el cliente y el servidor, incluyendo comandos, respuestas y otros datos, se cifran utilizando la clave de sesión compartida.</p>
  </li>
</ol>

<p>La criptografía simétrica se utiliza para cifrar los datos durante la transmisión debido a su eficiencia. Es más rápida que la criptografía asimétrica, por lo que es ideal para cifrar grandes cantidades de datos. Sin embargo, la criptografía asimétrica se utiliza en la fase de intercambio de claves para asegurar que las claves de sesión compartida se generen de forma segura y sin necesidad de intercambiar claves directamente, lo que sería menos seguro. La combinación de ambos tipos de criptografía en SSH aprovecha las fortalezas de cada uno para proporcionar un entorno de comunicación seguro y eficiente.</p>

<h3 id="explica-los-dos-métodos-principales-de-autentificación-por-contraseña-y-utilizando-un-par-de-claves-públicas-y-privadas"><span class="me-2">Explica los dos métodos principales de autentificación: por contraseña y utilizando un par de claves públicas y privadas.</span><a href="#explica-los-dos-métodos-principales-de-autentificación-por-contraseña-y-utilizando-un-par-de-claves-públicas-y-privadas" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>
    <p><strong>Autenticación por contraseña</strong>: el usuario inicia una conexión SSH proporcionando un nombre de usuario y contraseña, y son enviados al servidor. El servidor compara la contraseña ingresada con la almacenada para el usuario. Este método es sencillo aunque la seguridad depende de la complejidad y robustez de la contraseña, y puede ser vulnerable a ataques de fuerza bruta o de suplantación de identidad si estas son débiles.</p>
  </li>
  <li>
    <p><strong>Autenticación por par de claves</strong>: el usuario genera un par de claves. La clave pública se inyecta en el servidor SSH y se asocia con el nombre de usuario correspondiente. Al iniciarse la conexión SSH, el cliente debe hacerlo con su clave privada para demostrar la identidad. El servidor utiliza la clave pública asociada al usuario para verificar la autenticidad de la clave privada del cliente. Este método proporciona un alto nivel de seguridad, superior al método de autenticación por contraseña (por ejemplo es resistente a los ataques por fuerza bruta). Además también permite el acceso a un servidor sin necesidad de ingresar una contraseña cada vez que se establece la conexión.</p>
  </li>
</ul>

<h3 id="en-el-cliente-para-que-sirve-el-contenido-que-se-guarda-en-el-fichero-sshknow_hosts"><span class="me-2">En el cliente, ¿para que sirve el contenido que se guarda en el fichero <code class="language-plaintext highlighter-rouge">~/.ssh/know_hosts</code>?</span><a href="#en-el-cliente-para-que-sirve-el-contenido-que-se-guarda-en-el-fichero-sshknow_hosts" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Este archivo almacena los fingerprints de las claves públicas de los hosts remotos a los que el cliente se ha conectado anteriormente. Cuando el cliente se va a conectar a un host remoto, la clave pública de ese host se almacena en este archivo. Una vez almacenada en el cliente, en la próxima conexión se vuelve a calcular el fingerprint del host remoto y se compara con el que ya estaba almacenado de anteriores conexiones. Si la huella digital coincide con una entrada existente, se considera que el host es auténtico y la conexión procede sin problemas. Si la huella digital no coincide, el cliente emite una advertencia de posible ataque de “man-in-the-middle” (intermediario malicioso) porque la clave pública del host remoto ha cambiado.</p>

<h3 id="qué-significa-este-mensaje-que-aparece-la-primera-vez-que-nos-conectamos-a-un-servidor"><span class="me-2">¿Qué significa este mensaje que aparece la primera vez que nos conectamos a un servidor?</span><a href="#qué-significa-este-mensaje-que-aparece-la-primera-vez-que-nos-conectamos-a-un-servidor" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>ssh debian@172.22.200.74
 The authenticity of host <span class="s1">'172.22.200.74 (172.22.200.74)'</span> can<span class="s1">'t be established.
 ECDSA key fingerprint is SHA256:7ZoNZPCbQTnDso1meVSNoKszn38ZwUI4i6saebbfL4M.
 Are you sure you want to continue connecting (yes/no)? 
</span></pre></td></tr></tbody></table></code></div></div>

<p>En este escenario, el usuario tiene la opción de continuar o no con la conexión, dependiendo de cuánto confíe en el servidor. Si decide aceptar, la clave del servidor se guardará en el archivo situado en <code class="language-plaintext highlighter-rouge">~/.ssh/known_hosts</code>. Esto asegura que, en futuras conexiones, no se le pedirá nuevamente al cliente que confirme, ya que el sistema verificará si la clave ya está registrada en dicho archivo.</p>

<h3 id="en-ocasiones-cuando-estamos-trabajando-en-el-cloud-y-reutilizamos-una-ip-flotante-nos-aparece-este-mensaje"><span class="me-2">En ocasiones cuando estamos trabajando en el cloud, y reutilizamos una ip flotante nos aparece este mensaje:</span><a href="#en-ocasiones-cuando-estamos-trabajando-en-el-cloud-y-reutilizamos-una-ip-flotante-nos-aparece-este-mensaje" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>ssh debian@172.22.200.74
 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 @    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
 Someone could be eavesdropping on you right now <span class="o">(</span>man-in-the-middle attack<span class="o">)!</span>
 It is also possible that a host key has just been changed.
 The fingerprint <span class="k">for </span>the ECDSA key sent by the remote host is
 SHA256:W05RrybmcnJxD3fbwJOgSNNWATkVftsQl7EzfeKJgNc.
 Please contact your system administrator.
 Add correct host key <span class="k">in</span> /home/jose/.ssh/known_hosts to get rid of this message.
 Offending ECDSA key <span class="k">in</span> /home/jose/.ssh/known_hosts:103
   remove with:
   ssh-keygen <span class="nt">-f</span> <span class="s2">"/home/jose/.ssh/known_hosts"</span> <span class="nt">-R</span> <span class="s2">"172.22.200.74"</span>
 ECDSA host key <span class="k">for </span>172.22.200.74 has changed and you have requested strict checking.
</pre></td></tr></tbody></table></code></div></div>

<p>Esto significa que nos estamos conectando a un host remoto que previamente teníamos su fingerprint almacenada en este archivo, pero al comparar la actual del host remoto con la que teníamos almacenada estas no coinciden, por lo que nos manda la alerta.</p>

<h3 id="qué-guardamos-y-para-qué-sirve-el-fichero-en-el-servidor-sshauthorized_keys"><span class="me-2">¿Qué guardamos y para qué sirve el fichero en el servidor <code class="language-plaintext highlighter-rouge">~/.ssh/authorized_keys</code>?</span><a href="#qué-guardamos-y-para-qué-sirve-el-fichero-en-el-servidor-sshauthorized_keys" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>En este archivo es donde se almacenan las claves públicas de los clientes remotos que desean acceder al servidor. Al realizarse la conexión a un usuario, la clave pública del cliente debe estar presente en el archivo <code class="language-plaintext highlighter-rouge">authorized_keys</code> del usuario para que tenga permisos de acceso a esa sesión. La seguridad de este archivo es importante, y sus permisos típicos son 600: de lectura y escritura solo para el propietario.</p>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/seguridad/">Seguridad</a>,
          <a href="/categories/criptograf%C3%ADa/">Criptografía</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/criptograf%C3%ADa/"
            class="post-tag no-text-decoration"
          >Criptografía</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=Integridad,%20firmas%20y%20autenticaci%C3%B3n%20-%20Blog%20personal&url=%2Fposts%2Fintegridad%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=Integridad,%20firmas%20y%20autenticaci%C3%B3n%20-%20Blog%20personal&u=%2Fposts%2Fintegridad%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=%2Fposts%2Fintegridad%2F&text=Integridad,%20firmas%20y%20autenticaci%C3%B3n%20-%20Blog%20personal" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/site_to_site_openvpn/">VPN sitio a sitio con OpenVPN y certificados x509</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/acceso_remoto_openvpn/">VPN de acceso remoto con OpenVPN y certificados x509</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/journald/">Recolección centralizada de logs de sistema, mediante journald</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/certificado/">Certificados digitales. HTTPS</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/integridad/">Integridad, firmas y autenticación</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/criptograf%C3%ADa/">Criptografía</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/systemd/">Systemd</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/vpn/">VPN</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/aplicaciones/">Aplicaciones</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/automatizaci%C3%B3n/">Automatización</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/cloud/">Cloud</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/compartici%C3%B3n-de-archivos/">Compartición de archivos</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/instalaci%C3%B3n/">Instalación</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/monitoreo-y-gesti%C3%B3n-de-logs/">Monitoreo y Gestión de Logs</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/virtualizaci%C3%B3n/">Virtualización</a>
      
    </div>
  </section>


            </div>

            
              
              



  <section id="toc-wrapper" class="d-none ps-0 pe-4">
    <h2 class="panel-heading ps-3 mb-2">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->















  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">Further Reading</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/certificado/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1734629400"
  data-df="ll"
  
>
  Dec 19, 2024
</time>

              <h4 class="pt-0 my-2">Certificados digitales. HTTPS</h4>
              <div class="text-muted">
                <p>En esta práctica vamos a trabajar con certificados digitales para autenticarnos, firmar documentos y securizar una página web con HTTPS. Primero, instalaremos un certificado digital de persona físi...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/gpg-openssl/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1734034500"
  data-df="ll"
  
>
  Dec 12, 2024
</time>

              <h4 class="pt-0 my-2">Cifrado asimétrico con gpg y openssl</h4>
              <div class="text-muted">
                <p>En esta práctica vamos a cifrar ficheros utilizando cifrado asimétrico utilizando el programa gpg.</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/site_to_site_openvpn/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1737910800"
  data-df="ll"
  
>
  Jan 26, 2025
</time>

              <h4 class="pt-0 my-2">VPN sitio a sitio con OpenVPN y certificados x509</h4>
              <div class="text-muted">
                <p>En esta práctica configuraremos una VPN con OpenVPN en GNS3, implementando tanto una VPN de acceso remoto como una VPN sitio a sitio. Usaremos autenticación con certificados x509 generados con Open...</p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/gpg-openssl/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>Cifrado asimétrico con gpg y openssl</p>
    </a>
  

  
    <a
      href="/posts/certificado/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>Certificados digitales. HTTPS</p>
    </a>
  
</nav>

            
              
              <!-- The comments switcher -->


            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2025</time>

    
      <a href="https://github.com/PabloMartin19">Pablo Martín Hidalgo</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >Some rights reserved.</span>
    
  </p>

  <p>Using the <a
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="v7.1.1"
        href="https://github.com/cotes2020/jekyll-theme-chirpy"
        target="_blank"
        rel="noopener"
      >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center d-none">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/criptograf%C3%ADa/">Criptografía</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/systemd/">Systemd</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/vpn/">VPN</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/aplicaciones/">Aplicaciones</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/automatizaci%C3%B3n/">Automatización</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/cloud/">Cloud</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/compartici%C3%B3n-de-archivos/">Compartición de archivos</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/instalaci%C3%B3n/">Instalación</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/monitoreo-y-gesti%C3%B3n-de-logs/">Monitoreo y Gestión de Logs</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/virtualizaci%C3%B3n/">Virtualización</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- JavaScripts -->
    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.29.0/dist/tocbot.min.js"></script>







<script src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  







    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
    noResultsText: '<p class="mt-5">Oops! No results found.</p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

